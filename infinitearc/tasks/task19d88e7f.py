# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: 19d88e7f
Difficulty: easy

=== Tags ===
- Bring patterns close
- Count patterns
- Count tiles
- Detect hor lines

=== Description ===
The task involves input grids containing horizontal patterns (rows with at least
one non-zero value) separated by empty rows (all zeros). The transformation rule
is to move all non-empty rows to the top of the grid while preserving their
relative order, and position all empty rows at the bottom. This "brings patterns
close" by eliminating gaps between horizontal patterns. The solver must detect
horizontal patterns (non-empty rows) and count them implicitly to determine the
correct rearrangement. The output grid maintains the same dimensions as the
input, with patterns consolidated vertically and empty rows shifted downward.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    width = random.randint(3, 10)
    height = random.randint(3, 10)
    k = random.randint(1, height - 1)
    empty_count = height - k
    empty_row = [0] * width
    empty_rows = [empty_row] * empty_count
    non_empty_color = random.randint(1, 9)
    non_empty_row = [non_empty_color] * width
    non_empty_rows = [non_empty_row] * k
    rows = empty_rows + non_empty_rows
    random.shuffle(rows)
    while rows == non_empty_rows + empty_rows:
        random.shuffle(rows)
    return {"input": rows, "output": non_empty_rows + empty_rows}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    non_empty = [row for row in input_grid if any(x != 0 for x in row)]
    empty = [row for row in input_grid if all(x == 0 for x in row)]
    return non_empty + empty
