# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: 7b2f3af4
Difficulty: easy

=== Tags ===
- Take minimum
- Pattern deconstruction
- Image rotation

=== Description ===
The task involves a two-step transformation of the input grid. First, the grid
is rotated 90 degrees clockwise. Second, each row in the rotated grid is
replaced with the minimum value found in that row, resulting in a new grid where
every cell in a row contains the smallest value from the original rotated row.
For example, an input grid with values [[3, 1, 2], [4, 5, 6]] becomes [[4, 3],
[5, 1], [6, 2]] after rotation, and then transforms into [[3, 3], [1, 1]] by
replacing each row with its minimum value. This process ensures the output grid
maintains the same dimensions as the input while consistently applying rotation
and minimum-value replacement.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common
import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    if width == 1 and height == 1:
        width = 2
    grid = common.grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            grid[r][c] = random.randint(0, 9)
    all_same = True
    first_val = grid[0][0]
    for r in range(height):
        for c in range(width):
            if grid[r][c] != first_val:
                all_same = False
                break
        if not all_same:
            break
    if all_same:
        grid[0][0] = (grid[0][0] + 1) % 10
    rotated = [list(x)[::-1] for x in zip(*grid)]
    output = []
    for row in rotated:
        m = min(row)
        output.append([m] * len(row))
    return {
        "input": grid,
        "output": output
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    rotated = [list(x)[::-1] for x in zip(*input_grid)]
    output = []
    for row in rotated:
        m = min(row)
        output.append([m] * len(row))
    return output
