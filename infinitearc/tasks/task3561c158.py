# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 3561c158
Difficulty: easy

=== Tags ===
- Snap to grid
- Measure area

=== Description ===
The input grid contains a single connected shape represented by a non-zero color
value, which does not completely fill its minimal axis-aligned bounding box. The
output grid is created by identifying the smallest rectangle that contains all
cells of the shape, then filling every cell within this rectangle with the
shape's color. This transformation "snaps" the shape to the grid by aligning it
to the bounding box's edges, while the "measure area" tag refers to the fact
that the output rectangle's dimensions correspond to the area of the original
shape's bounding box. The rule is visually intuitive: the output grid shows the
input shape expanded to fill its natural grid-aligned container, preserving the
shape's color and maintaining the grid's original dimensions.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common

def generate():
    W = random.randint(2, 30)
    H = random.randint(2, 30)
    size = W * H - 1
    pixels = common.continuous_creature(size, W, H)
    color = random.randint(1, 9)
    input_grid = common.grid(W, H, 0)
    for r, c in pixels:
        input_grid[r][c] = color
    output_grid = common.grid(W, H, color)
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    color = None
    for row in input_grid:
        for val in row:
            if val != 0:
                color = val
                break
        if color is not None:
            break
    return [[color for _ in row] for row in input_grid]
