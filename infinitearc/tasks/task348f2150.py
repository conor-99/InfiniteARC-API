# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: 348f2150
Difficulty: medium

=== Tags ===
- Detect vertical symmetry
- Color palette
- Select every nth column

=== Description ===
The input grid is a 2D grid of integers (0-9) representing colors, with
dimensions between 1×1 and 30×30. The output grid is generated by first
selecting every nth column (where n is a fixed integer determined by the task,
such as 2) from the input, starting from column 0. The selected columns are then
arranged to form a vertically symmetric grid by mirroring the sequence: the
output columns consist of the selected columns followed by the reverse of the
selected columns excluding the last column. For example, if the selected columns
are [C0, C1, C2], the output columns become [C0, C1, C2, C1, C0]. The number of
rows remains unchanged from the input, and all color values are preserved as-is
from the original grid. This transformation ensures the output grid exhibits
vertical symmetry based on the selected columns, while maintaining the original
color palette.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    W = random.randint(2, 30)
    H = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(W)] for _ in range(H)]
    selected_cols = list(range(0, W, 2))
    k = len(selected_cols)
    output_cols = selected_cols + selected_cols[-2::-1]
    output_grid = [[input_grid[r][c] for c in output_cols] for r in range(H)]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid or not input_grid[0]:
        return []
    W = len(input_grid[0])
    H = len(input_grid)
    selected_cols = list(range(0, W, 2))
    k = len(selected_cols)
    output_cols = selected_cols + selected_cols[-2::-1]
    return [[input_grid[r][c] for c in output_cols] for r in range(H)]
