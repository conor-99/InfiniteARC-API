# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 17227db4
Difficulty: medium

=== Tags ===
- Cylindrical
- Extrapolate image from grid

=== Description ===
The task involves transforming an input grid into an output grid by applying a
cylindrical shift operation. The input grids are 2D arrays of integers (0-9)
representing colors, with dimensions ranging from 2×2 to 30×30 (to avoid trivial
1×1 cases where the shift would produce identical grids). The transformation
rule is: **each row of the input grid is cyclically shifted to the right by one
position, with the rightmost element wrapping to the leftmost position**. This
creates a continuous, cylindrical pattern where the grid's left and right edges
are connected. For example, a row [A, B, C] becomes [C, A, B] in the output. The
output grid visually "extrapolates" the input pattern by advancing the cyclic
sequence one step, demonstrating how the image would continue if the grid were a
cylinder. The rule is deterministic, relies on spatial relationships rather than
numerical properties, and requires recognizing the cyclic nature of the
transformation.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    width = random.randint(2, 30)
    height = random.randint(1, 30)
    input_grid = grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            input_grid[r][c] = random.randint(0, 9)
    output_grid = []
    for row in input_grid:
        output_grid.append([row[-1]] + row[:-1])
    if input_grid == output_grid:
        while input_grid == output_grid:
            for r in range(height):
                for c in range(width):
                    input_grid[r][c] = random.randint(0, 9)
            output_grid = []
            for row in input_grid:
                output_grid.append([row[-1]] + row[:-1])
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output = []
    for row in input_grid:
        row = list(row)
        output.append([row[-1]] + row[:-1])
    return output
