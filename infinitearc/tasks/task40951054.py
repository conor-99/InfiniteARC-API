# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: 40951054
Difficulty: easy

=== Tags ===
- Image expansion
- Take minimum
- Duplicate row pattern
- Holes

=== Description ===
The task involves transforming an input grid into an output grid through two
consistent steps. First, all holes (cells with value 0) in each row are replaced
with the minimum non-zero value present in that row. Second, each row of the
modified grid is duplicated vertically, resulting in an output grid with twice
the number of rows as the input. The transformation ensures all holes are filled
using row-specific minimum values before row duplication, creating a larger grid
that maintains the structural pattern of the original input while eliminating
empty spaces.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 15)
    input_grid = [[0] * width for _ in range(height)]
    for r in range(height):
        row = [random.randint(0, 9) for _ in range(width)]
        if all(x == 0 for x in row):
            row[random.randint(0, width-1)] = random.randint(1, 9)
        input_grid[r] = row
    processed_grid = []
    for row in input_grid:
        non_zeros = [x for x in row if x != 0]
        min_val = min(non_zeros)
        new_row = [min_val if x == 0 else x for x in row]
        processed_grid.append(new_row)
    output_grid = []
    for row in processed_grid:
        output_grid.append(row[:])
        output_grid.append(row[:])
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    processed = []
    for row in input_grid:
        non_zeros = [x for x in row if x != 0]
        min_val = min(non_zeros)
        new_row = [min_val if x == 0 else x for x in row]
        processed.append(new_row)
    output = []
    for row in processed:
        output.append(row[:])
        output.append(row[:])
    return output
