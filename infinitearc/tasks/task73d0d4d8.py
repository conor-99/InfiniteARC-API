# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 73d0d4d8
Difficulty: medium

=== Tags ===
- Concentric

=== Description ===
The input grid contains one or more concentric square rings (frames) centered in
the grid, where each ring consists of non-zero values at a constant Chebyshev
distance from the grid's center. The output grid is created by identifying the
smallest ring (innermost frame) based on the minimum Chebyshev distance where
non-zero values exist. All cells within the enclosed area (Chebyshev distance
strictly less than the smallest ring's distance) retain their original values,
while all other cells are set to zero. This transformation requires recognizing
the concentric structure, determining the innermost boundary, and isolating the
inner filled region.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.choice([i for i in range(3, 30, 2)])
    height = random.choice([i for i in range(3, 30, 2)])
    cx, cy = height // 2, width // 2
    max_d = max(cx, cy)
    d1 = random.randint(1, max_d)
    
    input_grid = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(width):
            d = max(abs(r - cx), abs(c - cy))
            if d >= d1:
                input_grid[r][c] = random.randint(1, 9)
    
    output_grid = [[0] * width for _ in range(height)]
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    cx, cy = height // 2, width // 2
    min_d = float('inf')
    
    for r in range(height):
        for c in range(width):
            d = max(abs(r - cx), abs(c - cy))
            if input_grid[r][c] != 0:
                if d < min_d:
                    min_d = d
    
    output = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(width):
            d = max(abs(r - cx), abs(c - cy))
            if d < min_d:
                output[r][c] = input_grid[r][c]
    return output
