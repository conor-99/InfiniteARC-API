# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-04
# ---------------------------------------------------------------

"""
Task ID: f5c7cdd1
Difficulty: medium

=== Tags ===
- Pattern moving
- Select every nth row

=== Description ===
The input grid contains a pattern of non-zero values arranged in a specific
visual configuration. The output grid is formed by selecting every nth row from
the input (starting with the first row), and shifting the non-zero pattern in
each selected row to the left by n columns. The shift moves each non-zero
element leftward, with the rightmost positions filled with zeros to maintain the
grid's dimensions. For example, if n=2, the output includes rows 0, 2, 4, and
each of these rows has its non-zero elements shifted left by 2 columns, creating
a visual movement of the pattern within the selected rows. The transformation
requires recognizing both the row selection pattern and the directional shift of
the visual elements.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    n = random.randint(1, 3)
    width = random.randint(n + 3, 30)
    height = random.randint(3, 30)
    color = random.randint(1, 9)
    input_grid = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(n, n + 3):
            if c < width:
                input_grid[r][c] = color
    output_grid = []
    for r in range(0, height, n):
        row = input_grid[r]
        shifted_row = row[n:] + [0] * n
        output_grid.append(shifted_row)
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    first_row = input_grid[0]
    n = 0
    for c in range(len(first_row)):
        if first_row[c] != 0:
            n = c
            break
    if n == 0:
        n = 1
    output_grid = []
    for r in range(0, len(input_grid), n):
        row = list(input_grid[r])
        shifted_row = row[n:] + [0] * n
        output_grid.append(shifted_row)
    return output_grid
