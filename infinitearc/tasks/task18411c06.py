# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: 18411c06
Difficulty: insane

=== Tags ===
- Measure distance from side

=== Description ===
The task involves transforming an input grid into an output grid where each
cell's value represents the minimum distance to the nearest grid boundary (top,
bottom, left, or right), clamped to the range 0–9. The distance for a cell at
position (r, c) in a grid of height H and width W is calculated as min(r, H-1-r,
c, W-1-c). This value is then capped at 9 if it exceeds 9 (e.g., for grids
larger than 19×19, distances beyond 9 are set to 9). The input grid's content is
irrelevant to the transformation; only the grid's dimensions determine the
output. For example, a 5×5 grid has a center cell (2,2) with a distance of 2,
while edge cells have a distance of 0. The output grid must differ from the
input grid, which is randomly generated with values 0–9, ensuring the
transformation rule is abstract and independent of pixel content.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    while True:
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
        output_grid = [[min(r, height-1 - r, c, width-1 - c) for c in range(width)] for r in range(height)]
        for r in range(height):
            for c in range(width):
                output_grid[r][c] = min(output_grid[r][c], 9)
        if input_grid != output_grid:
            break
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    output = [[min(r, h-1 - r, c, w-1 - c) for c in range(w)] for r in range(h)]
    for r in range(h):
        for c in range(w):
            output[r][c] = min(output[r][c], 9)
    return output
