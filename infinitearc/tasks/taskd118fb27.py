# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-04
# ---------------------------------------------------------------

"""
Task ID: d118fb27
Difficulty: medium

=== Tags ===
- Separate image
- Stripe detection
- Take minimum

=== Description ===
The input grid consists of a 2D arrangement of colored pixels where vertical
stripes (columns) represent distinct regions. Each vertical stripe (column)
contains varying color values. The task requires detecting each vertical stripe,
identifying the minimum color value within that stripe, and replacing all pixels
in the stripe with this minimum value. For example, a column with colors [5, 1,
8] would be transformed into [1, 1, 1] in the output grid. The transformation
ensures that every column in the output grid is uniformly filled with the
smallest color value present in the corresponding input column, creating a
distinct visual pattern where each stripe is represented by its minimum color.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    while width == 1 and height == 1:
        width = random.randint(1, 30)
        height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    for c in range(width):
        col = [input_grid[r][c] for r in range(height)]
        if all(x == col[0] for x in col):
            r = random.randint(0, height-1)
            new_color = random.randint(0, 9)
            while new_color == col[0]:
                new_color = random.randint(0, 9)
            input_grid[r][c] = new_color
    
    output_grid = [[0] * width for _ in range(height)]
    for c in range(width):
        col_min = min(input_grid[r][c] for r in range(height))
        for r in range(height):
            output_grid[r][c] = col_min
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    output_grid = [[0] * width for _ in range(height)]
    for c in range(width):
        col_min = min(input_grid[r][c] for r in range(height))
        for r in range(height):
            output_grid[r][c] = col_min
    return output_grid
