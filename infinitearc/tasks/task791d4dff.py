# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: 791d4dff
Difficulty: easy

=== Tags ===
- Color the row with most dots

=== Description ===
The task involves identifying the row in the input grid with the highest number
of non-zero cells (representing "dots" or colored elements) and replacing all
elements in that row with the color red (value 2). The output grid remains
identical to the input grid except for the transformed row. Input grids are
designed to contain exactly one row with the maximum count of non-zero elements,
ensuring the rule is visually clear and consistent. The transformation relies
solely on counting visible dots in rows, avoiding numerical sums or hidden
patterns, making it accessible for easy-level reasoning.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    target_row = random.randint(0, height - 1)
    
    target_row_colors = [random.randint(1, 9) for _ in range(width)]
    while all(c == 2 for c in target_row_colors):
        target_row_colors = [random.randint(1, 9) for _ in range(width)]
    input_grid[target_row] = target_row_colors
    
    for r in range(height):
        if r == target_row:
            continue
        row_colors = [random.randint(1, 9) for _ in range(width)]
        zero_pos = random.randint(0, width - 1)
        row_colors[zero_pos] = 0
        input_grid[r] = row_colors
    
    output_grid = [row[:] for row in input_grid]
    output_grid[target_row] = [2] * width
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    max_count = -1
    target_row = -1
    for r, row in enumerate(input_grid):
        count = sum(1 for cell in row if cell != 0)
        if count > max_count:
            max_count = count
            target_row = r
    output_grid = [row[:] for row in input_grid]
    output_grid[target_row] = [2] * len(output_grid[target_row])
    return output_grid
