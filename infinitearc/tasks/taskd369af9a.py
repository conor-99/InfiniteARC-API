# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: d369af9a
Difficulty: hard

=== Tags ===
- Associate color to bools
- Reconstruct shape from shadows
- Take complement

=== Description ===
The input grids consist of 2D arrays with values between 0 and 9, where 0
represents "shadow" (absence of shape) and all non-zero values represent "shape"
(presence of structure). The task requires reconstructing the full shape by
taking the complement of the shadow regions. Specifically, the output grid is
generated by inverting the binary representation of the input: every cell
containing 0 (shadow) in the input becomes 1 (shape) in the output, while all
non-zero values (shape) in the input become 0 (shadow) in the output. This
transformation abstracts away the specific non-zero colors—treating all non-zero
values as equivalent "shape" indicators—and applies a strict binary complement
operation to reconstruct the shape from the shadows. The difficulty arises from
the need to ignore color variations (1–9) and focus solely on the binary
presence/absence of structure, requiring the solver to recognize that shape
representation is independent of the specific non-zero color used.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(width):
            if random.random() < 0.5:
                input_grid[r][c] = 0
            else:
                input_grid[r][c] = random.randint(1, 9)
    output_grid = [[1 if x == 0 else 0 for x in row] for row in input_grid]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    return [[1 if cell == 0 else 0 for cell in row] for row in input_grid]
