# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: acdecdc5
Difficulty: easy

=== Tags ===
- Pattern juxtaposition
- Duplicate row pattern
- Color palette
- Count different colors

=== Description ===
The task involves transforming an input grid into an output grid by duplicating
each row a number of times equal to the count of distinct non-zero colors
present in the entire input grid. The input grid contains values between 0 and
9, where 0 represents a background color and values 1-9 represent distinct
colors. The output grid is formed by vertically stacking each input row exactly
k times, where k is the number of unique non-zero colors (1-9) found in the
input. For example, if the input contains three distinct non-zero colors (e.g.,
1, 3, 5), each row of the input is duplicated three times in the output. This
creates a vertical juxtaposition of repeated row patterns, directly linking the
row duplication rate to the color diversity of the input. The transformation
ensures the output grid has a different dimension than the input (as long as k â‰¥
2), fulfilling the requirement that input and output grids are not identical.
The solution requires recognizing the color count and applying uniform row
duplication, making it a clear, rule-based operation suitable for an "easy"
difficulty task.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    k = random.randint(2, 9)
    max_height = 30 // k
    height = random.randint(1, max_height)
    width = max(k, random.randint(1, 30))
    
    grid_input = [[0] * width for _ in range(height)]
    colors = random.sample(range(1, 10), k)
    
    # Ensure first k cells in first row are distinct colors
    for i in range(k):
        if i < width:
            grid_input[0][i] = colors[i]
    
    # Fill remaining cells with random colors
    for r in range(height):
        for c in range(width):
            if grid_input[r][c] == 0:
                grid_input[r][c] = random.choice(colors)
    
    color_set = set()
    for r in range(height):
        for c in range(width):
            if grid_input[r][c] != 0:
                color_set.add(grid_input[r][c])
    
    # Verify color count
    assert len(color_set) == k, f"Expected {k} colors, got {len(color_set)}"
    
    grid_output = []
    for row in grid_input:
        for _ in range(k):
            grid_output.append(row[:])
    
    return {"input": grid_input, "output": grid_output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    colors = set()
    for row in input_grid:
        for cell in row:
            if cell != 0:
                colors.add(cell)
    k = len(colors)
    output = []
    for row in input_grid:
        for _ in range(k):
            output.append(row[:])
    return output
