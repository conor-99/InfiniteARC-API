# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 03294309
Difficulty: easy

=== Tags ===
- Permute rows by length
- Bridges

=== Description ===
The input grids are 2D arrays of color values (0-9), where 0 represents
background and non-zero values represent colored elements. Each row contains a
variable number of non-background elements. The transformation requires sorting
all rows in descending order based on the count of non-background elements per
row. Rows with more non-background elements appear first, creating a visual
pattern where denser sections (resembling interconnected "bridges" of color) are
positioned higher in the grid. This rule is purely based on counting and
reordering, avoiding numerical calculations or pixel-level analysis. The output
grid is always distinct from the input as inputs are generated with unsorted row
counts.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    h = random.randint(2, 30)
    width = h
    output = []
    for i in range(h):
        count = h - i
        row = []
        for j in range(width):
            if j < count:
                row.append(random.randint(1, 9))
            else:
                row.append(0)
        output.append(row)
    input_grid = output[:]
    random.shuffle(input_grid)
    while input_grid == output:
        random.shuffle(input_grid)
    return {"input": input_grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    row_counts = [sum(1 for x in row if x != 0) for row in input_grid]
    sorted_rows = [row for _, row in sorted(zip(row_counts, input_grid), key=lambda x: x[0], reverse=True)]
    return sorted_rows
