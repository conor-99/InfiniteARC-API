# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: 3fc62fcf
Difficulty: easy

=== Tags ===
- Draw diagonal line

=== Description ===
The task involves transforming an input grid into an output grid by drawing a
diagonal line along the main diagonal (top-left to bottom-right) using color 1.
For every cell in the output grid where the row index equals the column index
(i.e., positions (0,0), (1,1), ..., (n-1,n-1) for an n√ón grid), the value is set
to 1. All other cells retain their original values from the input grid. This
transformation ensures that the output grid differs from the input grid by
modifying at least one diagonal cell.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    n = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(n)] for _ in range(n)]
    all_diagonal_1 = True
    for i in range(n):
        if input_grid[i][i] != 1:
            all_diagonal_1 = False
            break
    if all_diagonal_1:
        idx = random.randint(0, n-1)
        input_grid[idx][idx] = 0
    output_grid = [row[:] for row in input_grid]
    for i in range(n):
        output_grid[i][i] = 1
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    n = len(input_grid)
    output_grid = [row[:] for row in input_grid]
    for i in range(n):
        output_grid[i][i] = 1
    return output_grid
