# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: 391d37dd
Difficulty: easy

=== Tags ===
- Measure length
- Count tiles
- Expand to square canvas

=== Description ===
The task involves transforming an input grid into an output grid where the
output is a square canvas whose side length equals the length of a single
contiguous horizontal or vertical line of non-zero values in the input. The
input grid contains exactly one such line (all cells in the line share the same
color value between 1 and 9, with all other cells being 0). The output grid is a
square of size N×N (where N is the length of the line), filled entirely with the
line's color. For example, if the input contains a horizontal line of three red
tiles (value 2), the output is a 3×3 grid filled with red (value 2). The input
grid dimensions must not match the output grid dimensions (ensuring they are not
identical), and the transformation is deterministic based on measuring the
line's length and expanding to a square canvas.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid
def generate():
    N = random.randint(1, 29)
    color = random.randint(1, 9)
    size = N + 1
    input_grid = grid(size, size, 0)
    if random.choice([True, False]):
        for c in range(N):
            input_grid[0][c] = color
    else:
        for r in range(N):
            input_grid[r][0] = color
    output_grid = [[color] * N for _ in range(N)]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    color = None
    count = 0
    for row in input_grid:
        for cell in row:
            if cell != 0:
                if color is None:
                    color = cell
                count += 1
    return [[color] * count for _ in range(count)]
