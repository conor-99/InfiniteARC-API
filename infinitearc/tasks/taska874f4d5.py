# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: a874f4d5
Difficulty: easy

=== Tags ===
- Pattern reflection
- Pattern alignment
- Draw rectangle

=== Description ===
The input grid features a single solid rectangle composed of a single non-zero
color, positioned on the left side of the grid. The output grid is generated by
reflecting this rectangle horizontally across the vertical midline of the grid,
resulting in the rectangle appearing on the right side while maintaining its
original dimensions and color. All other grid cells remain unchanged (retaining
their original values, typically 0 for empty spaces).
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    W = common.randint(2, 30)
    H = common.randint(1, 30)
    color = common.random_color()
    w_rect = common.randint(1, W-1)
    h_rect = common.randint(1, H)
    
    input_grid = common.grid(W, H, 0)
    for r in range(h_rect):
        for c in range(w_rect):
            input_grid[r][c] = color
    
    output_grid = common.grid(W, H, 0)
    for r in range(h_rect):
        for c in range(W - w_rect, W):
            output_grid[r][c] = color
    
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    H = len(input_grid)
    W = len(input_grid[0])
    color = input_grid[0][0]
    
    # Find w_rect
    w_rect = 0
    for col in range(W):
        if input_grid[0][col] == color:
            w_rect += 1
        else:
            break
    
    # Find h_rect
    h_rect = 0
    for row in range(H):
        if input_grid[row][0] == color:
            h_rect += 1
        else:
            break
    
    output_grid = common.grid(W, H, 0)
    for r in range(h_rect):
        for col in range(W - w_rect, W):
            output_grid[r][col] = color
    
    return output_grid
