# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: aa640adf
Difficulty: medium

=== Tags ===
- Draw line from border

=== Description ===
The input grid contains exactly one non-zero cell (color 1-9) positioned at
least one cell away from all four borders (i.e., not on the top, bottom, left,
or right edges). The output grid is generated by drawing a straight line from
the border corresponding to the non-zero cell's color modulo 4: color % 4 = 1
draws a line from the top border (row 0), % 4 = 2 from the right border (column
width-1), % 4 = 3 from the bottom border (row height-1), and % 4 = 0 from the
left border (column 0). The line extends directly from the border to the non-
zero cell, including all intermediate cells, and uses the non-zero cell's
original color. The transformation ensures the output grid differs from the
input by adding the line path.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    width = random.randint(3, 30)
    height = random.randint(3, 30)
    r = random.randint(1, height-2)
    c = random.randint(1, width-2)
    color = random.randint(1, 9)
    direction = color % 4

    input_grid = [[0]*width for _ in range(height)]
    input_grid[r][c] = color

    output_grid = [row[:] for row in input_grid]

    if direction == 0:
        for col in range(0, c+1):
            output_grid[r][col] = color
    elif direction == 1:
        for row in range(0, r+1):
            output_grid[row][c] = color
    elif direction == 2:
        for col in range(c, width):
            output_grid[r][col] = color
    elif direction == 3:
        for row in range(r, height):
            output_grid[row][c] = color

    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    for r in range(len(input_grid)):
        for c in range(len(input_grid[0])):
            if input_grid[r][c] > 0:
                color = input_grid[r][c]
                break
        else:
            continue
        break
    direction = color % 4
    height = len(input_grid)
    width = len(input_grid[0])
    output = [list(row) for row in input_grid]
    if direction == 0:
        for col in range(0, c+1):
            output[r][col] = color
    elif direction == 1:
        for row in range(0, r+1):
            output[row][c] = color
    elif direction == 2:
        for col in range(c, width):
            output[r][col] = color
    elif direction == 3:
        for row in range(r, height):
            output[row][c] = color
    return output
