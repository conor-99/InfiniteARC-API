# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: ec1a5ee1
Difficulty: easy

=== Tags ===
- Associate images to bools

=== Description ===
The input grid is a 2D arrangement of colors (0-9), where color 2 represents
red. The output grid is generated by checking if any cell in the input grid
contains color 2. If such a cell exists, every cell in the output grid is set to
1; otherwise, every cell is set to 0. The grid dimensions remain unchanged from
input to output. Input grids without color 2 will always contain at least one
non-zero, non-red color (e.g., colors 1, 3-9) to ensure the output grid differs
from the input. This task requires visual recognition of a specific color
presence rather than numerical calculations or pixel-level transformations.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    has_red = random.choice([True, False])
    
    input_grid = [[0] * width for _ in range(height)]
    
    if has_red:
        r = random.randint(0, height-1)
        c = random.randint(0, width-1)
        input_grid[r][c] = 2
        for r in range(height):
            for c in range(width):
                if input_grid[r][c] != 2:
                    input_grid[r][c] = random.randint(0, 9)
    else:
        while True:
            for r in range(height):
                for c in range(width):
                    colors = [0, 1, 3, 4, 5, 6, 7, 8, 9]
                    input_grid[r][c] = random.choice(colors)
            if not all(input_grid[r][c] == 0 for r in range(height) for c in range(width)):
                break
    
    output_grid = [[1] * width for _ in range(height)] if has_red else [[0] * width for _ in range(height)]
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    has_red = False
    for row in input_grid:
        for cell in row:
            if cell == 2:
                has_red = True
                break
        if has_red:
            break
    
    width = len(input_grid[0])
    height = len(input_grid)
    if has_red:
        return [[1] * width for _ in range(height)]
    else:
        return [[0] * width for _ in range(height)]
