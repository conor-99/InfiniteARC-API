# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: 2d89b2b5
Difficulty: medium

=== Tags ===
- Associate colors to bools
- Pattern reflection
- Associate colors to numbers

=== Description ===
The input grid consists of 2D arrays containing integers between 0 and 9,
representing colored cells. The transformation applies three consistent steps:
First, each color value is associated with a boolean (True if the value is
greater than 4, False otherwise). Second, the resulting boolean grid is
reflected horizontally (left-right flip). Third, each boolean is associated with
a numerical value (True maps to 5, False maps to 0), producing the output grid.
This process ensures all colors are transformed through abstract Boolean logic
and pattern reflection, with the output grid never matching the input.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    while True:
        width = random.randint(1, 30)
        height = random.randint(1, 30)
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
        bool_grid = [[cell > 4 for cell in row] for row in input_grid]
        reflected_bool = [row[::-1] for row in bool_grid]
        output_grid = [[5 if cell else 0 for cell in row] for row in reflected_bool]
        if input_grid == output_grid:
            continue
        return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    bool_grid = [[cell > 4 for cell in row] for row in input_grid]
    reflected_bool = [row[::-1] for row in bool_grid]
    output_grid = [[5 if cell else 0 for cell in row] for row in reflected_bool]
    return output_grid
