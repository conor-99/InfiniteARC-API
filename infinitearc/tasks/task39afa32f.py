# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 39afa32f
Difficulty: medium

=== Tags ===
- Obstacles

=== Description ===
The task involves grids where a specific obstacle color (5) appears as solid
blocks within the grid. The output grid is formed by processing each row
independently: all obstacle cells (color 5) are removed, and the remaining non-
obstacle cells (colors 0-4, 6-9) are shifted leftward to fill the gaps, with the
rightmost positions filled with the background color (0). This transformation
preserves grid dimensions while visually "clearing" obstacles and compacting the
remaining elements. The rule is consistent across rows and requires recognizing
the obstacle color and applying a left-shift operation, making it discoverable
through simple visual inspection of input-output pairs.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    # Ensure at least one 5 exists
    if not any(5 in row for row in input_grid):
        r = random.randint(0, height-1)
        c = random.randint(0, width-1)
        input_grid[r][c] = 5
    
    output_grid = []
    for row in input_grid:
        non_5 = [x for x in row if x != 5]
        output_row = non_5 + [0] * (len(row) - len(non_5))
        output_grid.append(output_row)
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output = []
    for row in input_grid:
        non_5 = [x for x in row if x != 5]
        output.append(non_5 + [0] * (len(row) - len(non_5)))
    return output
