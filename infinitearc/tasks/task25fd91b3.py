# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 25fd91b3
Difficulty: easy

=== Tags ===
- Color by distance to center
- Create grid
- Count different colors
- Associate colors to images

=== Description ===
The task transforms an input grid into an output grid where each cell's color is
determined by its Manhattan distance from the grid's center. The center cell
(distance 0) is assigned color 1, the next layer of cells (distance 1) is
assigned color 2, and each subsequent distance layer increments the color
sequentially (3, 4, ..., 9, then cycling back to 1). Input grid content is
irrelevant; the output depends solely on the grid's dimensions and each cell's
position relative to the center. For example, in a 3Ã—3 grid, the center cell
(1,1) becomes color 1, the four adjacent cells become color 2, and the four
corners become color 3. This rule is consistent across all grid sizes, with
distance calculated as |row - center_row| + |column - center_column|, using the
grid's geometric center for calculation.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    center_x = (width - 1) / 2.0
    center_y = (height - 1) / 2.0
    output_grid = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(width):
            dist = abs(r - center_y) + abs(c - center_x)
            dist_layer = int(dist)
            color = (dist_layer % 9) + 1
            output_grid[r][c] = color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid:
        return []
    height = len(input_grid)
    width = len(input_grid[0])
    center_x = (width - 1) / 2.0
    center_y = (height - 1) / 2.0
    output = [[0] * width for _ in range(height)]
    for r in range(height):
        for c in range(width):
            dist = abs(r - center_y) + abs(c - center_x)
            dist_layer = int(dist)
            color = (dist_layer % 9) + 1
            output[r][c] = color
    return output
