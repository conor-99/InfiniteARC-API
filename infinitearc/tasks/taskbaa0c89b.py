# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: baa0c89b
Difficulty: easy

=== Tags ===
- Color majority row
- Count tiles
- Measure area

=== Description ===
The task involves transforming an input grid by replacing each row with its
majority color. For each row in the input, the majority color is determined by
counting the number of tiles (cells) of each color in that row. The output grid
is formed by filling every cell in each row with this majority color. The input
grids are constructed such that each row contains at least two distinct colors,
ensuring the output differs from the input. This process requires counting tiles
per color within each row and measuring the area (count) of the dominant color
to determine the replacement value.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(3, 30)
    height = random.randint(1, 30)
    input_grid = []
    output_grid = []
    for _ in range(height):
        majority = random.randint(0, 9)
        other = random.randint(0, 9)
        while other == majority:
            other = random.randint(0, 9)
        count_majority = (width // 2) + 1
        num_other = width - count_majority
        row = [majority] * count_majority + [other] * num_other
        random.shuffle(row)
        input_grid.append(row)
        output_grid.append([majority] * width)
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output_grid = []
    for row in input_grid:
        color_count = {}
        for color in row:
            color_count[color] = color_count.get(color, 0) + 1
        majority = max(color_count, key=color_count.get)
        output_grid.append([majority] * len(row))
    return output_grid
