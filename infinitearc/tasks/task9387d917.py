# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 9387d917
Difficulty: easy

=== Tags ===
- Inside out
- Create grid
- Image repetition

=== Description ===
The input grid features a distinct border (outermost rows and columns)
surrounding an inner region. The transformation rule for generating the output
grid is as follows: extract the inner region of the input grid (all cells
excluding the first and last rows and columns), then create a new grid where
each cell from the inner region is repeated as a 2x2 block. For example, a 5×5
input grid with a 3×3 inner region will produce a 6×6 output grid (3×2 in each
dimension), where every 2×2 block in the output corresponds to a single cell
from the inner input region. This creates a visually consistent repetition of
the inner pattern, scaled up by a factor of 2 in both width and height, while
maintaining the original colors. The output grid size is always smaller than the
input for 3×3 grids (e.g., 3×3 input → 2×2 output) but larger for grids with
dimensions ≥5×5 (e.g., 5×5 input → 6×6 output). This transformation is visually
intuitive, as the repetition of the inner pattern is immediately apparent in the
output.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    while True:
        width = random.randint(3, 17)
        height = random.randint(3, 17)
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
        if width == 4 and height == 4:
            is_uniform = True
            first = input_grid[0][0]
            for i in range(height):
                for j in range(width):
                    if input_grid[i][j] != first:
                        is_uniform = False
                        break
                if not is_uniform:
                    break
            if is_uniform:
                continue
        inner = [row[1:-1] for row in input_grid[1:-1]]
        output_grid = []
        for row in inner:
            expanded = []
            for cell in row:
                expanded.append(cell)
                expanded.append(cell)
            output_grid.append(expanded)
            output_grid.append(expanded)
        return {
            "input": input_grid,
            "output": output_grid
        }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    inner = [row[1:-1] for row in input_grid[1:-1]]
    output = []
    for row in inner:
        expanded = []
        for cell in row:
            expanded.append(cell)
            expanded.append(cell)
        output.append(expanded)
        output.append(expanded)
    return output
