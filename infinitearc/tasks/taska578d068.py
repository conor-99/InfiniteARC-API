# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: a578d068
Difficulty: easy

=== Tags ===
- Color permutation
- Compare image
- Take intersection
- Measure distance from side

=== Description ===
The task involves transforming an input grid into an output grid by applying a
color permutation specifically to cells that are within a certain distance from
the grid's edges. For each cell in the input grid, the distance to the nearest
side (top, bottom, left, or right) is calculated. Cells with a distance of less
than 2 (i.e., within one cell of any edge) undergo a color permutation where
each color value is incremented by 1 modulo 9 (e.g., 1→2, 2→3, ..., 9→1). Cells
farther than one cell from all edges retain their original color values. This
transformation leverages color permutation, distance measurement from sides, and
the intersection of the grid with its edge region to define the transformed
output. The rule is consistent, visually intuitive, and requires no complex
computations, making it suitable for an easy difficulty level.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        for c in range(width):
            min_dist = min(r, height - 1 - r, c, width - 1 - c)
            if min_dist < 2:
                output_grid[r][c] = (input_grid[r][c] + 1) % 9
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    output_grid = [list(row) for row in input_grid]
    for r in range(height):
        for c in range(width):
            min_dist = min(r, height - 1 - r, c, width - 1 - c)
            if min_dist < 2:
                output_grid[r][c] = (input_grid[r][c] + 1) % 9
    return output_grid
