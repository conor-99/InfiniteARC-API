# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 07dd6067
Difficulty: easy

=== Tags ===
- Draw line from border
- Jigsaw
- Separate shapes
- Count hor lines

=== Description ===
The task involves transforming an input grid where each row containing at least
one non-zero pixel is replaced with a full row of a fixed color (e.g., 5), while
rows with all zeros remain unchanged. The output grid reflects this
transformation by drawing horizontal lines across all rows that contain any non-
zero elements from the input, effectively separating shapes by filling their
rows with a consistent line color. This rule leverages the "Draw line from
border" concept by extending partial horizontal segments into full row lines,
uses "Separate shapes" to distinguish connected components via row filling, and
incorporates "Count hor lines" as the basis for identifying which rows require
transformation (i.e., rows with horizontal segments). The solution is
straightforward for an easy task, as it only requires checking row-wise presence
of non-zero values to determine output grid structure.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = grid(width, height, 0)
    
    # Ensure at least one non-zero
    r, c = random.randint(0, height-1), random.randint(0, width-1)
    input_grid[r][c] = random.randint(1, 9)
    
    # Add more non-zero cells
    for _ in range(random.randint(0, (width * height) // 4)):
        r = random.randint(0, height-1)
        c = random.randint(0, width-1)
        input_grid[r][c] = random.randint(1, 9)
    
    output_grid = []
    for row in input_grid:
        if any(pixel != 0 for pixel in row):
            output_grid.append([5] * width)
        else:
            output_grid.append(row[:])
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid:
        return input_grid
    width = len(input_grid[0])
    output_grid = []
    for row in input_grid:
        if any(pixel != 0 for pixel in row):
            output_grid.append([5] * width)
        else:
            output_grid.append(row[:])
    return output_grid
