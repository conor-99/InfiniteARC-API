# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 6c14830c
Difficulty: medium

=== Tags ===
- Detect grid
- Detect rotational symmetry
- Image juxtaposition
- Associate colors to images

=== Description ===
The task involves detecting 180-degree rotational symmetry in the input grid.
For each cell (r, c), the output cell is assigned color 5 if the input value at
(r, c) matches the value at its rotational counterpart (height - 1 - r, width -
1 - c), otherwise it is assigned color 3. This transformation visually encodes
symmetry detection across the grid, where color 5 signifies symmetric pairs and
color 3 signifies asymmetric pairs. The input grid contains arbitrary non-zero
values (0-9), and the output grid replaces each cell based on this symmetry
check, creating a clear association between symmetry detection and color
assignment. The grid dimensions must support rotational symmetry checks (e.g.,
even dimensions simplify pairing, but the rule applies universally).
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    w = random.randint(1, 30)
    h = random.randint(1, 30)
    input_grid = grid(w, h, 0)
    for r in range(h):
        for c in range(w):
            input_grid[r][c] = random.randint(0, 9)
    if all(input_grid[r][c] == 5 for r in range(h) for c in range(w)):
        input_grid[0][0] = 0
    output_grid = grid(w, h, 0)
    for r in range(h):
        for c in range(w):
            sr, sc = h - 1 - r, w - 1 - c
            if input_grid[r][c] == input_grid[sr][sc]:
                output_grid[r][c] = 5
            else:
                output_grid[r][c] = 3
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    output_grid = [[0] * w for _ in range(h)]
    for r in range(h):
        for c in range(w):
            sr, sc = h - 1 - r, w - 1 - c
            if input_grid[r][c] == input_grid[sr][sc]:
                output_grid[r][c] = 5
            else:
                output_grid[r][c] = 3
    return output_grid
