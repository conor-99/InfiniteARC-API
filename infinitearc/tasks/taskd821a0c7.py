# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: d821a0c7
Difficulty: easy

=== Tags ===
- Two color checkerboard
- Permute columns by length
- Move object to nearest corner

=== Description ===
Input grids display a checkerboard of two colors with a single cell of a third
color (the object) positioned at a random location. The output grid is created
by first sorting columns in descending order based on the number of object cells
they contain (placing columns with the object at the start), then moving the
object cell to the closest corner of the grid.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    w = random.randint(1, 30)
    h = random.randint(1, 30)
    input_grid = [[(r + c) % 2 for c in range(w)] for r in range(h)]
    r, c = random.randint(0, h-1), random.randint(0, w-1)
    input_grid[r][c] = 2
    target_row = 0 if r <= h-1 - r else h-1
    output_grid = [[(r + c) % 2 for c in range(w)] for r in range(h)]
    output_grid[target_row][0] = 2
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    obj_r, obj_c = -1, -1
    for r in range(h):
        for c in range(w):
            if input_grid[r][c] == 2:
                obj_r, obj_c = r, c
    target_row = 0 if obj_r <= h-1 - obj_r else h-1
    output = [[(r + c) % 2 for c in range(w)] for r in range(h)]
    output[target_row][0] = 2
    return output
