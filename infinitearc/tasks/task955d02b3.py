# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: 955d02b3
Difficulty: easy

=== Tags ===
- Trim trailing background
- Extend stem to border
- Maze

=== Description ===
Each input grid contains a single horizontal path (the "stem") of a non-
background color (e.g., color 1) that does not extend to the right border of the
grid. The stem is a continuous line of connected cells in a single row,
surrounded by background color (0) on all sides. The transformation requires two
steps: first, extending the stem horizontally to the rightmost column of the
grid (ensuring the path now touches the right border), and second, cropping the
grid to the minimal bounding box that contains all non-background cells
(removing all surrounding background from the edges). This results in the stem
being fully extended to the border with no trailing background pixels remaining.
The task is visual and relies on identifying the stem's direction and extending
it, followed by cropping to the smallest grid containing the transformed path.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    width = common.randint(5, 30)
    height = common.randint(5, 30)
    input_grid = common.grid(width, height)
    stem_row = common.randint(1, height-2)
    start_col = common.randint(1, width-3)
    end_col = common.randint(start_col+1, width-2)
    color = common.randint(1, 9)
    for c in range(start_col, end_col+1):
        input_grid[stem_row][c] = color
    output_grid = [[color] * (width - start_col)]
    return {'input': input_grid, 'output': output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    for r in range(height):
        if any(x != 0 for x in input_grid[r]):
            stem_row = r
            break
    else:
        return input_grid
    cols = [c for c in range(width) if input_grid[stem_row][c] != 0]
    leftmost = min(cols)
    color = input_grid[stem_row][leftmost]
    return [[color] * (width - leftmost)]
