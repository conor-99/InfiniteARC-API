# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: 06546d20
Difficulty: easy

=== Tags ===
- Homeomorphism
- Contouring

=== Description ===
The input grid contains a single contiguous region of a non-zero color (e.g.,
color 5) surrounded by a background of color 0. The output grid is generated by
identifying the boundary of this region: any cell within the region that is
adjacent (horizontally or vertically) to a background cell (color 0) or the grid
edge remains its original color, while all inner cells (completely surrounded by
the same color) are set to background (color 0). This produces a clean outline
of the shape, preserving its topological structure while removing interior fill.
For example, a solid 5x5 square in the input becomes a hollow 5-frame in the
output, with the center 3x3 area turned to background. The transformation
requires recognizing the shape's perimeter through adjacency checks, making it
visually intuitive for easy difficulty.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(3, 30)
    height = random.randint(3, 30)
    color = random.randint(1, 9)
    w = random.randint(3, min(width, 30))
    h = random.randint(3, min(height, 30))
    x = random.randint(0, width - w)
    y = random.randint(0, height - h)
    input_grid = [[0] * width for _ in range(height)]
    for i in range(y, y + h):
        for j in range(x, x + w):
            input_grid[i][j] = color
    output_grid = [[0] * width for _ in range(height)]
    for i in range(height):
        for j in range(width):
            if input_grid[i][j] != color:
                output_grid[i][j] = 0
            else:
                if i == 0 or i == height - 1 or j == 0 or j == width - 1:
                    output_grid[i][j] = color
                else:
                    if (input_grid[i-1][j] == 0 or 
                        input_grid[i+1][j] == 0 or 
                        input_grid[i][j-1] == 0 or 
                        input_grid[i][j+1] == 0):
                        output_grid[i][j] = color
                    else:
                        output_grid[i][j] = 0
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import random

def p(grid):
    width = len(grid[0])
    height = len(grid)
    color = None
    for i in range(height):
        for j in range(width):
            if grid[i][j] > 0:
                color = grid[i][j]
                break
        if color is not None:
            break
    if color is None:
        return grid
    output = [[0] * width for _ in range(height)]
    for i in range(height):
        for j in range(width):
            if grid[i][j] != color:
                output[i][j] = 0
            else:
                if i == 0 or i == height - 1 or j == 0 or j == width - 1:
                    output[i][j] = color
                else:
                    if (grid[i-1][j] == 0 or 
                        grid[i+1][j] == 0 or 
                        grid[i][j-1] == 0 or 
                        grid[i][j+1] == 0):
                        output[i][j] = color
                    else:
                        output[i][j] = 0
    return output
