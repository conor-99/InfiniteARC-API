# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: 9a3ec0d7
Difficulty: easy

=== Tags ===
- Maze
- Create image from info
- Pairwise analogy
- Color the row with most dots

=== Description ===
The input grid represents a maze-like structure where non-zero cells (dots) form
paths and zero cells represent walls. The transformation requires identifying
the row containing the highest number of dots (non-zero cells) and recoloring
every cell in that row to red. The output grid remains identical to the input
except for the designated row, which is uniformly colored red. This task tests
the ability to count visual elements (dots) within rows and apply a consistent
color transformation based on that count, without relying on numerical values or
complex patterns.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    H = random.randint(1, 30)
    W = random.randint(1, 30)
    target_row = random.randint(0, H-1)
    max_dots = random.randint(1, W)
    input_grid = [[0] * W for _ in range(H)]
    positions = random.sample(range(W), max_dots)
    for pos in positions:
        input_grid[target_row][pos] = 1
    for r in range(H):
        if r == target_row:
            continue
        num_dots = random.randint(0, max_dots - 1)
        if num_dots > 0:
            positions = random.sample(range(W), num_dots)
            for pos in positions:
                input_grid[r][pos] = 1
    output_grid = [row[:] for row in input_grid]
    for c in range(W):
        output_grid[target_row][c] = 2
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    H = len(input_grid)
    W = len(input_grid[0])
    max_count = -1
    target_row = -1
    for r in range(H):
        count = sum(1 for c in range(W) if input_grid[r][c] != 0)
        if count > max_count:
            max_count = count
            target_row = r
    output_grid = [row[:] for row in input_grid]
    for c in range(W):
        output_grid[target_row][c] = 2
    return output_grid
