# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: d6b86a70
Difficulty: easy

=== Tags ===
- Take half
- Associate color to bools

=== Description ===
The input grid is a 2D grid of integers between 0 and 9. The transformation rule
is determined by the top-left cell's value. If the top-left cell's value is even
(0, 2, 4, 6, or 8), the output grid consists of the top half of the input grid
(first half of rows). If the value is odd (1, 3, 5, 7, or 9), the output grid
consists of the bottom half of the input grid (second half of rows). The input
grid must have an even number of rows to ensure a clean split, which the
generator enforces. The grid dimensions are preserved in width, while the height
is halved. This rule leverages the "Associate color to bools" tag (even = True,
odd = False) to select the half, directly implementing the "Take half"
transformation.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid

def generate():
    h = random.choice(range(2, 31, 2))
    w = random.randint(1, 30)
    input_grid = grid(w, h, 0)
    top_left_val = random.randint(0, 9)
    input_grid[0][0] = top_left_val
    for r in range(h):
        for c in range(w):
            if r == 0 and c == 0:
                continue
            input_grid[r][c] = random.randint(0, 9)
    if top_left_val % 2 == 0:
        output_grid = [row[:] for row in input_grid[:h//2]]
    else:
        output_grid = [row[:] for row in input_grid[h//2:]]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    if h == 0:
        return []
    half = h // 2
    if input_grid[0][0] % 2 == 0:
        return input_grid[:half]
    else:
        return input_grid[half:]
