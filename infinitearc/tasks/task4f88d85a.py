# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 4f88d85a
Difficulty: easy

=== Tags ===
- Replace pattern

=== Description ===
The task involves a simple visual pattern replacement. The input grid contains
one or more 2x2 blocks where all four cells share the same color (e.g., color
1). The output grid is generated by replacing every such 2x2 block with a
different, fixed color (e.g., color 2). The rule is deterministic: any
contiguous 2x2 square of identical color is replaced with the target color,
regardless of its position in the grid. The transformation is purely structural,
relying on the spatial arrangement of identical colors rather than numerical
values or complex features. This task is easy because the pattern (2x2 uniform
block) is visually distinct and the replacement rule is straightforward,
requiring only the identification of the pattern and its substitution.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    target_color = 2
    block_color = random.choice([c for c in range(10) if c != target_color])
    input_grid = [[0] * width for _ in range(height)]
    r0 = random.randint(0, height - 2)
    c0 = random.randint(0, width - 2)
    for dr in range(2):
        for dc in range(2):
            input_grid[r0 + dr][c0 + dc] = block_color
    for r in range(height):
        for c in range(width):
            if r < r0 or r >= r0 + 2 or c < c0 or c >= c0 + 2:
                input_grid[r][c] = random.randint(0, 9)
    output_grid = [row[:] for row in input_grid]
    for r in range(height - 1):
        for c in range(width - 1):
            if input_grid[r][c] == input_grid[r][c+1] == input_grid[r+1][c] == input_grid[r+1][c+1]:
                output_grid[r][c] = target_color
                output_grid[r][c+1] = target_color
                output_grid[r+1][c] = target_color
                output_grid[r+1][c+1] = target_color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if type(input_grid) is tuple:
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    target_color = 2
    output_grid = [row[:] for row in input_grid]
    for r in range(height - 1):
        for c in range(width - 1):
            if input_grid[r][c] == input_grid[r][c+1] == input_grid[r+1][c] == input_grid[r+1][c+1]:
                output_grid[r][c] = target_color
                output_grid[r][c+1] = target_color
                output_grid[r+1][c] = target_color
                output_grid[r+1][c+1] = target_color
    return output_grid
