# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: 6c5ba79e
Difficulty: easy

=== Tags ===
- Snap to grid
- Even or odd
- Pattern juxtaposition
- Color guessing

=== Description ===
The input grid is a 2D grid of integers ranging from 0 to 9 (representing
colors). The output grid is generated by preserving the original color of every
cell in even-indexed rows (0, 2, 4, ...) while replacing all cells in odd-
indexed rows (1, 3, 5, ...) with the fixed color 0 (black). This transformation
relies on the even/odd property of row indices to determine color changes,
requiring the solver to identify the consistent replacement for odd rows ("color
guessing"). The term "snap to grid" refers to aligning the color replacement
strictly to the grid's row structure without altering positions, and "pattern
juxtaposition" describes the resulting alternating pattern of preserved colors
and black rows in the output grid.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common

def generate():
    width = random.randint(1, 30)
    height = random.randint(2, 30)
    input_grid = common.grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            input_grid[r][c] = random.randint(0, 9)
    has_nonzero = False
    for r in range(1, height, 2):
        for c in range(width):
            if input_grid[r][c] != 0:
                has_nonzero = True
                break
        if has_nonzero:
            break
    if not has_nonzero:
        r = 1
        c = random.randint(0, width - 1)
        input_grid[r][c] = 1
    output_grid = common.grid(width, height, 0)
    for r in range(height):
        if r % 2 == 0:
            for c in range(width):
                output_grid[r][c] = input_grid[r][c]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    output_grid = common.grid(width, height, 0)
    for r in range(height):
        if r % 2 == 0:
            for c in range(width):
                output_grid[r][c] = input_grid[r][c]
    return output_grid
