# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 19dfebbd
Difficulty: easy

=== Tags ===
- Pattern resizing
- Associate color to bools
- Bounce

=== Description ===
The input grid is a square grid where a single pixel of color 1 (red) is
positioned at the bottom-left corner (row = height-1, column = 0), and all other
pixels are background color 0 (black). The output grid transforms this input by
drawing a continuous diagonal path of color 2 (blue) from the bottom-left corner
to the top-right corner (row = 0, column = width-1). This path follows a
straight line due to the square grid dimensions, which causes the bouncing
algorithm to naturally form a diagonal without actual directional changes. The
color 2 is associated with the presence of the path (boolean "true" state),
while the input's color 1 serves as the starting point. The transformation is
consistent for all square grids, with the path length scaling directly with grid
size (e.g., a 3×3 grid has a 3-pixel path, a 5×5 grid has a 5-pixel path).
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import bounce
def generate():
    width = random.randint(2, 30)
    height = random.randint(1, 30)
    ingrid, output = bounce(width, height, 0, 0, 1)
    for i in range(height):
        for j in range(width):
            if output[i][j] == 1:
                output[i][j] = 2
    return {"input": ingrid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    output = [[0] * width for _ in range(height)]
    r = height - 1
    c = 0
    output[r][c] = 2
    c_dir = 1
    for r in range(height - 2, -1, -1):
        c += c_dir
        if c == 0 or c == width - 1:
            c_dir = -c_dir
        output[r][c] = 2
    return output
