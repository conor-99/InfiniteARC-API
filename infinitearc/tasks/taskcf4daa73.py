# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: cf4daa73
Difficulty: medium

=== Tags ===
- Proximity guessing

=== Description ===
The task involves transforming an input grid into an output grid based on the
proximity of a specific color. The input grid contains a variety of colors
(0-9), and the output grid is generated by identifying all cells that are
horizontally or vertically adjacent to any cell containing the color 2. These
adjacent cells are set to color 5 in the output, while all other cells are set
to color 0. This creates a clear visual pattern where the presence of color 2 in
the input generates a distinct halo of color 5 around it, with the remainder of
the grid rendered as empty (color 0). The transformation requires recognizing
the spatial relationship between color 2 and its immediate neighbors, making it
a medium-difficulty task that relies on visual proximity rather than numerical
properties or complex sequences.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    width = common.randint(1, 30)
    height = common.randint(1, 30)
    input_grid = common.grid(width, height, 0)
    r = common.randint(0, height-1)
    c = common.randint(0, width-1)
    input_grid[r][c] = 2
    for _ in range(common.randint(0, 2)):
        r = common.randint(0, height-1)
        c = common.randint(0, width-1)
        input_grid[r][c] = 2
    output_grid = common.grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] == 2:
                for dr, dc in [(1,0), (-1,0), (0,1), (0,-1)]:
                    nr = r + dr
                    nc = c + dc
                    if 0 <= nr < height and 0 <= nc < width:
                        output_grid[nr][nc] = 5
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    output_grid = common.grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] == 2:
                for dr, dc in [(1,0), (-1,0), (0,1), (0,-1)]:
                    nr = r + dr
                    nc = c + dc
                    if 0 <= nr < height and 0 <= nc < width:
                        output_grid[nr][nc] = 5
    return output_grid
