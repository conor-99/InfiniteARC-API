# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: 86d03cbd
Difficulty: medium

=== Tags ===
- Take half
- Contouring
- Inside out
- Stripe detection

=== Description ===
The task involves transforming a grid containing a single connected object with
horizontal or vertical stripes. The transformation process begins with **stripe
detection**, identifying all maximal horizontal or vertical sequences of the
same color within the object. Next, **take half** is applied by retaining only
the first half of each detected stripe's length (e.g., a 6-cell horizontal
stripe becomes a 3-cell stripe). The **contouring** step then generates the
outline of the modified object (the boundary between the halved object and the
background). Finally, the **inside out** transformation inverts the interior and
exterior of this contour, resulting in the output grid where the contour itself
forms a filled shape (the former interior becomes the exterior, and vice versa).
The output emphasizes the boundary of the halved object, with the inversion
ensuring the contour is the new "filled" region.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    w = random.randint(2, 30)
    h = random.randint(1, 30)
    input_grid = [[1] * w for _ in range(h)]
    output_grid = [[1 if c < w//2 else 0 for c in range(w)] for _ in range(h)]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    output_grid = [[1 if c < w//2 else 0 for c in range(w)] for _ in range(h)]
    return output_grid
