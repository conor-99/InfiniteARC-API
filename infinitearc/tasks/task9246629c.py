# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 9246629c
Difficulty: easy

=== Tags ===
- Snap to grid
- Extrapolate image from grid
- Detect repetition

=== Description ===
The task involves transforming an input grid into an output grid by repeating
the input pattern in both horizontal and vertical directions. The input grid
contains a small, distinct visual pattern composed of colors. The output grid is
formed by tiling the input pattern exactly twice across its width and twice down
its height, creating a larger grid where each quadrant mirrors the input
arrangement. For example, a 2x2 input grid with a red square in the top-left
corner will produce a 4x4 output grid where each 2x2 quadrant contains the same
red square position. Solvers must detect the repeating visual unit in the input
and extrapolate it to fill the output grid, ensuring all repetitions align
perfectly with the grid structure without distortion or modification of the
original pattern. This requires recognizing the periodicity of the input pattern
and applying it consistently to form the complete output.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common
import random

def generate():
    w = random.randint(1, 15)
    h = random.randint(1, 15)
    input_grid = common.grid(w, h, 0)
    for r in range(h):
        for c in range(w):
            input_grid[r][c] = random.randint(0, 9)
    output_grid = common.grid(2 * w, 2 * h, 0)
    for r in range(2 * h):
        for c in range(2 * w):
            output_grid[r][c] = input_grid[r % h][c % w]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    h = len(input_grid)
    w = len(input_grid[0])
    output = common.grid(2 * w, 2 * h, 0)
    for r in range(2 * h):
        for c in range(2 * w):
            output[r][c] = input_grid[r % h][c % w]
    return output
