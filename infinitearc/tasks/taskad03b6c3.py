# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: ad03b6c3
Difficulty: medium

=== Tags ===
- Draw rectangle
- Only one

=== Description ===
The input grid contains exactly one connected region of non-zero colors (using
4-directional adjacency), with all other cells being zero. The output grid is
generated by drawing the minimal axis-aligned bounding rectangle around this
region as a border using color 9. The border consists of the top and bottom
rows, and left and right columns of the bounding box, while all other cells
remain unchanged from the input. The transformation requires identifying the
single connected region, determining its bounding box, and rendering its
perimeter in a fixed color, ensuring the output differs from the input.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    from common import continuous_creature, grid
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    size = random.randint(1, width * height)
    pixels = continuous_creature(size, width, height)
    color = random.randint(1, 8)
    input_grid = grid(width, height, 0)
    for (r, c) in pixels:
        input_grid[r][c] = color
    min_r = min(r for r, c in pixels)
    max_r = max(r for r, c in pixels)
    min_c = min(c for r, c in pixels)
    max_c = max(c for r, c in pixels)
    output_grid = [row[:] for row in input_grid]
    for c in range(min_c, max_c + 1):
        output_grid[min_r][c] = 9
        output_grid[max_r][c] = 9
    for r in range(min_r, max_r + 1):
        output_grid[r][min_c] = 9
        output_grid[r][max_c] = 9
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    non_zero = []
    for r in range(len(input_grid)):
        for c in range(len(input_grid[0])):
            if input_grid[r][c] != 0:
                non_zero.append((r, c))
    if not non_zero:
        return input_grid
    min_r = min(r for r, c in non_zero)
    max_r = max(r for r, c in non_zero)
    min_c = min(c for r, c in non_zero)
    max_c = max(c for r, c in non_zero)
    output = [list(row) for row in input_grid]
    for c in range(min_c, max_c + 1):
        output[min_r][c] = 9
        output[max_r][c] = 9
    for r in range(min_r, max_r + 1):
        output[r][min_c] = 9
        output[r][max_c] = 9
    return output
