# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 3c847557
Difficulty: easy

=== Tags ===
- Extrapolate image from grid
- Diagonals
- Remove border
- Draw rectangle

=== Description ===
The input grids are 2D arrays of integers (0-9) with a distinct border
(outermost layer) surrounding a central area. The transformation consists of two
steps: first, removing the border (i.e., excluding the first and last rows and
columns), and second, drawing the main diagonals of the resulting grid with a
fixed color (e.g., 2). The main diagonals are defined as all cells where the row
index equals the column index (top-left to bottom-right) and where the row index
plus the column index equals the size minus one (top-right to bottom-left) of
the inner grid. This results in the output grid having the border removed and
its diagonals filled with the specified color.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common
def generate():
    width = random.randint(3, 30)
    height = random.randint(3, 30)
    input_grid = common.grid(width, height, random.randint(0, 9))
    inner = [row[1:-1] for row in input_grid[1:-1]]
    output = [row[:] for row in inner]
    inner_w = len(output[0]) if output else 0
    inner_h = len(output)
    for i in range(inner_h):
        for j in range(inner_w):
            if i == j or i + j == inner_w - 1:
                output[i][j] = 2
    return {"input": input_grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    inner = [row[1:-1] for row in input_grid[1:-1]]
    inner_w = len(inner[0]) if inner else 0
    inner_h = len(inner)
    output = [row[:] for row in inner]
    for i in range(inner_h):
        for j in range(inner_w):
            if i == j or i + j == inner_w - 1:
                output[i][j] = 2
    return output
