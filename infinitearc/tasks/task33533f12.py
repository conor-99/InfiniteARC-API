# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: 33533f12
Difficulty: easy

=== Tags ===
- Associate colors to colors
- Obstacles
- Expand to square canvas

=== Description ===
This task involves transforming a rectangular input grid into a square output
grid while applying a color association rule. The input grid has dimensions
between 1×1 and 30×30, with each cell containing a value between 0 and 9. The
transformation follows two key steps:    1. **Color Association**: All non-
obstacle colors are mapped to new colors according to a fixed rule. Color 5 is
designated as the obstacle and remains unchanged. For all other colors, the
mapping shifts each value up by 1 (e.g., 1 → 2, 2 → 3, 3 → 4, 4 → 6, 6 → 7, 7 →
8, 8 → 9, 9 → 1), skipping color 5 to preserve obstacles.    2. **Square
Expansion**: After applying the color mapping, the grid is expanded to a square
canvas by padding with background color 0. The output grid’s dimensions are
determined by the larger of the input’s width or height (e.g., a 2×3 input
becomes a 3×3 output, with padding added to the bottom and right).    The output
grid will always differ from the input due to either color changes (for grids
containing non-obstacle colors) or padding (for non-square inputs). This task
requires recognizing the color mapping rule and the geometric expansion to a
square, making it accessible for beginners.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    w = random.randint(1, 30)
    h = random.randint(1, 30)
    while w == h:
        w = random.randint(1, 30)
        h = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(w)] for _ in range(h)]
    
    def map_color(c):
        if c == 5:
            return 5
        if c == 0:
            return 0
        if c == 9:
            return 1
        if c == 4:
            return 6
        return c + 1
    
    mapped_grid = [[map_color(input_grid[r][c]) for c in range(w)] for r in range(h)]
    
    size = max(w, h)
    output_grid = [[0] * size for _ in range(size)]
    for r in range(h):
        for c in range(w):
            output_grid[r][c] = mapped_grid[r][c]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid:
        return []
    h = len(input_grid)
    w = len(input_grid[0])
    
    def map_color(c):
        if c == 5:
            return 5
        if c == 0:
            return 0
        if c == 9:
            return 1
        if c == 4:
            return 6
        return c + 1
    
    mapped_grid = [[map_color(input_grid[r][c]) for c in range(w)] for r in range(h)]
    
    size = max(w, h)
    output_grid = [[0] * size for _ in range(size)]
    for r in range(h):
        for c in range(w):
            output_grid[r][c] = mapped_grid[r][c]
    return output_grid
