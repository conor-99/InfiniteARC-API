# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 4a312632
Difficulty: easy

=== Tags ===
- Paint outer ring

=== Description ===
The task involves transforming an input grid by painting its outer perimeter
(all cells in the first row, last row, first column, and last column) with a
fixed color (gray, represented as 5), while leaving the inner cells unchanged
from the input grid. For grids with dimensions 1Ã—1, the single cell is replaced
with gray. The transformation is consistent across all grids, regardless of
their size or internal patterns. The rule relies solely on positional
relationships within the grid (border vs. interior), making it visually
intuitive and straightforward to identify.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    if width == 1 and height == 1:
        if input_grid[0][0] == 5:
            input_grid[0][0] = random.choice([x for x in range(10) if x != 5])
        return {"input": input_grid, "output": [[5]]}
    outer_cells = []
    for c in range(width):
        outer_cells.append((0, c))
        outer_cells.append((height-1, c))
    for r in range(1, height-1):
        outer_cells.append((r, 0))
        outer_cells.append((r, width-1))
    all_outer_5 = True
    for (r, c) in outer_cells:
        if input_grid[r][c] != 5:
            all_outer_5 = False
            break
    if all_outer_5:
        r, c = random.choice(outer_cells)
        input_grid[r][c] = random.choice([x for x in range(10) if x != 5])
    output_grid = [row[:] for row in input_grid]
    for c in range(width):
        output_grid[0][c] = 5
        output_grid[height-1][c] = 5
    for r in range(1, height-1):
        output_grid[r][0] = 5
        output_grid[r][width-1] = 5
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid:
        return []
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    width = len(input_grid[0])
    height = len(input_grid)
    output_grid = [row[:] for row in input_grid]
    for c in range(width):
        output_grid[0][c] = 5
        output_grid[height-1][c] = 5
    for r in range(1, height-1):
        output_grid[r][0] = 5
        output_grid[r][width-1] = 5
    return output_grid
