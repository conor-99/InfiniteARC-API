# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 70b8807e
Difficulty: easy

=== Tags ===
- Draw parallel line
- Snap to grid
- Connect the dots

=== Description ===
The task involves input grids containing dots represented by color 1. For each
row in the input, the output grid draws a horizontal line (color 2) spanning
from the leftmost to the rightmost dot in that row, inclusive. This requires
identifying rows with at least two dots (color 1) and filling all cells between
their columns with color 2. The lines are strictly horizontal (parallel), align
exactly with grid cells ("snap to grid"), and connect the dots as defined by
their row positions. All other cells retain their original values, ensuring the
output differs from the input when dots exist in at least one row.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    width = random.randint(2, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    row = random.randint(0, height - 1)
    col1 = random.randint(0, width - 1)
    col2 = random.randint(0, width - 1)
    while col2 == col1:
        col2 = random.randint(0, width - 1)
    input_grid[row][col1] = 1
    input_grid[row][col2] = 1
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 1:
                input_grid[r][c] = random.randint(0, 9)
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        ones = [c for c in range(width) if input_grid[r][c] == 1]
        if len(ones) >= 2:
            min_c = min(ones)
            max_c = max(ones)
            for c in range(min_c, max_c + 1):
                output_grid[r][c] = 2
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    if not input_grid:
        return []
    height = len(input_grid)
    width = len(input_grid[0])
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        ones = [c for c in range(width) if input_grid[r][c] == 1]
        if len(ones) >= 2:
            min_c = min(ones)
            max_c = max(ones)
            for c in range(min_c, max_c + 1):
                output_grid[r][c] = 2
    return output_grid
