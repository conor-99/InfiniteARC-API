# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 8e423f36
Difficulty: easy

=== Tags ===
- Background filling
- Color the column with fewest dots
- Color palette

=== Description ===
The task involves transforming an input grid into an output grid by identifying
the column with the fewest non-zero cells (referred to as "dots" in the task
description) and coloring all cells in that column with a specific, fixed color
from the available palette (e.g., gray, color 5). The input grid consists of a
2D array where 0 represents background (no dots) and values 1â€“9 represent
colored dots. The output grid retains all original dot positions and colors
except for the selected column, which is uniformly recolored to the specified
palette color. If multiple columns have the same minimum number of dots, the
leftmost such column is chosen. The transformation is deterministic, visually
intuitive, and requires only counting dot occurrences per column and applying a
single color replacement, making it accessible for an "easy" difficulty level.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    col_counts = [sum(1 for r in range(height) if grid[r][c] != 0) for c in range(width)]
    min_count = min(col_counts)
    
    col_idx = 0
    while col_idx < width and col_counts[col_idx] != min_count:
        col_idx += 1
    
    while col_idx < width and all(grid[r][col_idx] == 5 for r in range(height)):
        col_idx += 1
    
    if col_idx >= width:
        return generate()
    
    output = [row[:] for row in grid]
    for r in range(height):
        output[r][col_idx] = 5
    
    return {"input": grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    
    col_counts = [sum(1 for r in range(height) if input_grid[r][c] != 0) for c in range(width)]
    min_count = min(col_counts)
    
    col_idx = 0
    while col_idx < width and col_counts[col_idx] != min_count:
        col_idx += 1
    
    output = [list(row) for row in input_grid]
    for r in range(height):
        output[r][col_idx] = 5
    
    return output
