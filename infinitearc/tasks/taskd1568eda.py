# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: d1568eda
Difficulty: easy

=== Tags ===
- Associate images to patterns
- Bouncing
- Image rotation

=== Description ===
The task involves transforming an input grid containing a single object (color
2) positioned at the left or right edge of the grid into an output grid where
the object is moved one step inward from the edge, simulating a bounce. The
input grid has dimensions between 3×3 and 30×30, with all other cells set to
color 0. The object's movement direction depends on its current edge position:
if the object is in the leftmost column, it moves right; if in the rightmost
column, it moves left. This transformation is consistent across all valid inputs
and requires no additional operations beyond edge detection and inward movement.
The visual nature of the task relies solely on the object's position relative to
grid boundaries, avoiding numerical or parity-based rules.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(3, 30)
    height = random.randint(3, 30)
    edge = random.choice([0, width-1])
    row = random.randint(0, height-1)
    input_grid = [[0] * width for _ in range(height)]
    input_grid[row][edge] = 2
    output_grid = [[0] * width for _ in range(height)]
    if edge == 0:
        new_c = 1
    else:
        new_c = width - 2
    output_grid[row][new_c] = 2
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] == 2:
                if c == 0:
                    new_c = 1
                else:
                    new_c = width - 2
                output = [[0] * width for _ in range(height)]
                output[r][new_c] = 2
                return output
    return input_grid
