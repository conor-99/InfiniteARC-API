# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-04
# ---------------------------------------------------------------

"""
Task ID: 7b906411
Difficulty: medium

=== Tags ===
- Dominant color

=== Description ===
The input grids consist of 2D arrays of integers (0-9) representing colors, with
dimensions between 1×1 and 30×30. The output grid is generated by identifying
the dominant color in the input—the color that appears most frequently (with
ties broken by selecting the smallest color value)—and filling the entire output
grid with this dominant color. The output grid maintains the same dimensions as
the input but becomes uniformly colored based on the dominant color's value.
This transformation requires recognizing the most prevalent visual element in
the input and applying it universally to the output.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    width = common.randint(2, 30)
    height = common.randint(2, 30)
    grid = [[common.randint(0, 9) for _ in range(width)] for _ in range(height)]
    all_same = True
    first = grid[0][0]
    for r in range(height):
        for c in range(width):
            if grid[r][c] != first:
                all_same = False
                break
        if not all_same:
            break
    if all_same:
        grid[0][0] = (grid[0][0] + 1) % 10
    counts = [0] * 10
    for r in range(height):
        for c in range(width):
            counts[grid[r][c]] += 1
    dominant = 0
    max_count = -1
    for color in range(10):
        if counts[color] > max_count or (counts[color] == max_count and color < dominant):
            max_count = counts[color]
            dominant = color
    output_grid = common.grid(width, height, dominant)
    return {
        "input": grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    counts = [0] * 10
    for r in range(height):
        for c in range(width):
            counts[input_grid[r][c]] += 1
    dominant = 0
    max_count = -1
    for color in range(10):
        if counts[color] > max_count or (counts[color] == max_count and color < dominant):
            max_count = counts[color]
            dominant = color
    return common.grid(width, height, dominant)
