# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-04
# ---------------------------------------------------------------

"""
Task ID: 7a8f1abd
Difficulty: medium

=== Tags ===
- Reflect across detected axis

=== Description ===
The input grid contains a pattern that is asymmetric with respect to a vertical
axis. The task requires detecting the vertical axis of reflection by identifying
the leftmost column containing any non-zero value. The output grid is generated
by reflecting each cell across this detected vertical axis. Specifically, if the
leftmost non-zero cell is in column `c` (0-based), each cell at column `i` in
the input is mapped to column `2c - i` in the output. This ensures the output
grid is the mirror image of the input across the axis determined by the leftmost
non-zero cell, resulting in a consistent transformation that varies based on the
input's content.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(3, 30)
    height = random.randint(1, 30)
    grid_in = [[0] * width for _ in range(height)]
    
    max_c = (width - 1) // 2
    c = random.randint(1, max_c)
    
    for r in range(height):
        for col in range(c, width):
            if col == c + 1 and r == 0:
                grid_in[r][col] = random.randint(1, 9)
            else:
                grid_in[r][col] = random.randint(0, 9)
    
    grid_out = [[0] * width for _ in range(height)]
    for r in range(height):
        for col in range(width):
            new_col = 2 * c - col
            grid_out[r][new_col] = grid_in[r][col]
    
    return {"input": grid_in, "output": grid_out}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    c = None
    for col in range(width):
        for row in range(height):
            if input_grid[row][col] != 0:
                c = col
                break
        if c is not None:
            break
    if c is None:
        c = 0
    
    output = [[0] * width for _ in range(height)]
    for r in range(height):
        for col in range(width):
            new_col = 2 * c - col
            output[r][new_col] = input_grid[r][col]
    return output
