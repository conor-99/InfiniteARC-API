# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 8c179bf8
Difficulty: easy

=== Tags ===
- Color majority column
- Associate colors to patterns
- Pattern coloring
- Associate colors to colors

=== Description ===
The input grids consist of 2D grids with values between 0 and 9, where each
column contains at least one non-zero color and no column is entirely uniform
(i.e., all cells in a column are not the same color). For each column, the most
frequent non-zero color is identified. The output grid is constructed by
replacing every cell in each column with this majority color, resulting in
uniform columns. This transformation ensures the output grid differs from the
input by modifying columns that originally contained a mix of colors or non-zero
and zero values. The task relies on visual pattern recognition of column-based
color dominance without numerical calculations or color mapping.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    height = random.randint(3, 30)
    width = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    output_grid = [[0] * width for _ in range(height)]
    
    for col in range(width):
        M = random.randint(1, 9)
        for row in range(height):
            input_grid[row][col] = M
        flip_row = random.randint(0, height - 1)
        N = M
        while N == M:
            N = random.randint(1, 9)
        input_grid[flip_row][col] = N
        for row in range(height):
            output_grid[row][col] = M
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    output_grid = [[0] * width for _ in range(height)]
    
    for col in range(width):
        color_count = {}
        for row in range(height):
            color = input_grid[row][col]
            if color != 0:
                color_count[color] = color_count.get(color, 0) + 1
        majority = max(color_count, key=color_count.get)
        for row in range(height):
            output_grid[row][col] = majority
    return output_grid
