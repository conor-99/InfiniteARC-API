# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 509362d9
Difficulty: medium

=== Tags ===
- Mimic pattern
- Associate colors to patterns

=== Description ===
The input grid consists of a 2D arrangement of colors (0-9) representing a
specific pattern. The output grid is generated by first horizontally mirroring
the input grid (reversing each row left-right), then applying a consistent color
transformation where each color value is incremented by 2 modulo 10 (e.g., 0→2,
1→3, ..., 8→0, 9→1). This transformation requires recognizing both the spatial
pattern replication (mirror operation) and the color association rule
(incremental mapping), creating a dual-layer reasoning task where the pattern's
structure and color values must be processed simultaneously. The output grid
always differs from the input, with no pixel-level matching required—only
abstract application of the mirrored pattern and color shift.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    mirrored = common.flip_horiz(input_grid)
    output_grid = [[(x + 2) % 10 for x in row] for row in mirrored]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    mirrored = common.flip_horiz(input_grid)
    output_grid = [[(x + 2) % 10 for x in row] for row in mirrored]
    return output_grid
