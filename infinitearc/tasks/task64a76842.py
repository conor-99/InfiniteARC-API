# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: 64a76842
Difficulty: easy

=== Tags ===
- Projection unto rectangle
- Pattern reflection
- Associate colors to colors

=== Description ===
Each input grid is a rectangular grid of colors (values 0-9). The output grid is
generated by first reflecting the input grid horizontally (mirroring left to
right), and then swapping all occurrences of color 1 with color 2 (and vice
versa), while all other colors remain unchanged. This transformation
consistently applies to every cell in the grid, resulting in a visually distinct
output that maintains the reflected structure with color associations as
specified.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    while True:
        width = random.randint(1, 30)
        height = random.randint(1, 30)
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
        if not any(1 in row or 2 in row for row in input_grid):
            continue
        reflected = [row[::-1] for row in input_grid]
        output_grid = [[2 if x == 1 else 1 if x == 2 else x for x in row] for row in reflected]
        if input_grid == output_grid:
            continue
        return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    reflected = [row[::-1] for row in input_grid]
    output_grid = [[2 if x == 1 else 1 if x == 2 else x for x in row] for row in reflected]
    return output_grid
