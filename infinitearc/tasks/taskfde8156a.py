# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: fde8156a
Difficulty: easy

=== Tags ===
- Connect two dots with a line
- Two color checkerboard
- Pairwise analogy

=== Description ===
The input grid is a two-color checkerboard pattern (e.g., alternating colors 0
and 1) where each cell's color depends on the parity of its row and column
indices (even sum = color 0, odd sum = color 1). Two specific cells in the grid
are marked with a distinct third color (e.g., color 9) representing "dots." The
output grid replaces each dot with the checkerboard color corresponding to its
position (color 0 if the sum of the row and column indices is even, color 1
otherwise), while preserving the rest of the checkerboard pattern. The
transformation requires no additional line drawingâ€”the dots are simply corrected
to match the underlying checkerboard structure. This rule is consistent,
deterministic, and discoverable through visual inspection of the parity-based
color mapping.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    checkerboard = [[0 if (r + c) % 2 == 0 else 1 for c in range(width)] for r in range(height)]
    input_grid = [row[:] for row in checkerboard]
    positions = []
    while len(positions) < 2:
        r = random.randint(0, height - 1)
        c = random.randint(0, width - 1)
        if (r, c) not in positions:
            positions.append((r, c))
    for r, c in positions:
        input_grid[r][c] = 9
    return {
        "input": input_grid,
        "output": checkerboard
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    output = [row[:] for row in input_grid]
    for r in range(height):
        for c in range(width):
            if output[r][c] == 9:
                output[r][c] = 0 if (r + c) % 2 == 0 else 1
    return output
