# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: 8adb0dac
Difficulty: easy

=== Tags ===
- Draw parallel line

=== Description ===
The input grid contains a single straight line (either horizontal or vertical)
of a single non-zero color, spanning at least three cells. The output grid is
generated by adding another line of the same color, parallel to the input line,
placed immediately adjacent to it in the direction perpendicular to the line's
orientation. For horizontal lines (spanning columns in a single row), the new
line is added directly below the original line. For vertical lines (spanning
rows in a single column), the new line is added directly to the right of the
original line. All other grid cells remain unchanged (retaining background color
0). This transformation creates a clear visual pattern where the output contains
two parallel lines of identical color and length, separated by a single cell
gap. The task is designed to be immediately recognizable with minimal examples,
as the parallel line addition follows a consistent spatial relationship to the
input's dominant line feature.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    import common
    direction = random.choice(['horizontal', 'vertical'])
    if direction == 'horizontal':
        width = random.randint(3, 30)
        height = random.randint(2, 30)
        color = random.randint(1, 9)
        r = random.randint(0, height - 2)
        c = random.randint(0, width - 3)
        input_grid = common.grid(width, height, 0)
        output_grid = common.grid(width, height, 0)
        for i in range(3):
            input_grid[r][c + i] = color
            output_grid[r][c + i] = color
            output_grid[r + 1][c + i] = color
    else:
        width = random.randint(2, 30)
        height = random.randint(3, 30)
        color = random.randint(1, 9)
        c = random.randint(0, width - 2)
        r = random.randint(0, height - 3)
        input_grid = common.grid(width, height, 0)
        output_grid = common.grid(width, height, 0)
        for i in range(3):
            input_grid[r + i][c] = color
            output_grid[r + i][c] = color
            output_grid[r + i][c + 1] = color
    return {'input': input_grid, 'output': output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    # Check horizontal
    for r in range(height):
        for c in range(width - 2):
            if input_grid[r][c] != 0 and input_grid[r][c] == input_grid[r][c+1] == input_grid[r][c+2]:
                color = input_grid[r][c]
                output_grid = [list(row) for row in input_grid]
                if r < height - 1:
                    for i in range(3):
                        output_grid[r + 1][c + i] = color
                return output_grid
    # Check vertical
    for c in range(width):
        for r in range(height - 2):
            if input_grid[r][c] != 0 and input_grid[r][c] == input_grid[r+1][c] == input_grid[r+2][c]:
                color = input_grid[r][c]
                output_grid = [list(row) for row in input_grid]
                if c < width - 1:
                    for i in range(3):
                        output_grid[r + i][c + 1] = color
                return output_grid
    return input_grid
