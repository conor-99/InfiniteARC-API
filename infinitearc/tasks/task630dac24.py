# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: 630dac24
Difficulty: medium

=== Tags ===
- Take half
- Associate colors to ranks

=== Description ===
Input grids are 2D grids of colors represented by numerical values from 0 to 9.
The transformation rule involves associating each color with a rank determined
by its numerical value plus one (e.g., color 0 corresponds to rank 1, color 1 to
rank 2, ..., color 9 to rank 10). The output grid retains only the colors whose
ranks fall within the upper half of the rank scale (ranks 6-10, corresponding to
colors 5-9), replacing all other colors with the background color (value 0).
This "take half" operation specifically refers to selecting the higher half of
the rank spectrum, requiring the solver to identify the rank-color mapping and
apply the threshold-based filtering.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    while not any(cell < 5 for row in input_grid for cell in row):
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    output_grid = [[0 if cell < 5 else cell for cell in row] for row in input_grid]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    return [[0 if cell < 5 else cell for cell in row] for row in input_grid]
