# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: a3589cbd
Difficulty: medium

=== Tags ===
- Sort colors by index
- Take complement

=== Description ===
The input grid consists of a 2D arrangement of colors (represented by numbers
0-9). To generate the output grid, first sort all color values in ascending
order (from 0 to 9) across the entire grid. Then, replace each color with its
complement, where color 0 is replaced with 9, 1 with 8, 2 with 7, 3 with 6, 4
with 5, and vice versa for the higher colors. This results in a grid where
colors are sorted in ascending order and then inverted to their complementary
counterparts.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    flattened = [pixel for row in input_grid for pixel in row]
    flattened.sort()
    output_flat = [9 - x for x in flattened]
    output_grid = []
    for i in range(height):
        output_grid.append(output_flat[i*width : (i+1)*width])
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import random

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    flattened = [pixel for row in input_grid for pixel in row]
    flattened.sort()
    output_flat = [9 - x for x in flattened]
    output_grid = []
    for i in range(height):
        output_grid.append(output_flat[i*width : (i+1)*width])
    return output_grid
