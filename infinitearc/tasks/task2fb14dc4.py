# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 2fb14dc4
Difficulty: easy

=== Tags ===
- Repaint border

=== Description ===
The task involves transforming an input grid into an output grid by repainting
all border cells to a consistent target color while leaving the inner cells
unchanged. The border consists of all cells in the first row, last row, first
column, and last column of the grid. The target color is fixed for the task
(e.g., red), and the inner cells (those not on the border) retain their original
colors from the input grid. This transformation is deterministic and applies
universally to all input grids, regardless of their size or internal patterns.
The output grid will always differ from the input because the border cells are
modified, ensuring the rule is visually distinct and discoverable through simple
observation of the grid's outer edges.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    target_color = 2
    
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    border_cells = []
    for c in range(width):
        border_cells.append(input_grid[0][c])
    for c in range(width):
        border_cells.append(input_grid[height-1][c])
    for r in range(1, height-1):
        border_cells.append(input_grid[r][0])
    for r in range(1, height-1):
        border_cells.append(input_grid[r][width-1])
    
    if all(cell == target_color for cell in border_cells):
        if input_grid[0][0] == target_color:
            input_grid[0][0] = random.choice([c for c in range(10) if c != target_color])
    
    output_grid = [row[:] for row in input_grid]
    for c in range(width):
        output_grid[0][c] = target_color
        output_grid[height-1][c] = target_color
    for r in range(1, height-1):
        output_grid[r][0] = target_color
        output_grid[r][width-1] = target_color
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    if not input_grid or not input_grid[0]:
        return input_grid
    width = len(input_grid[0])
    height = len(input_grid)
    target_color = 2
    output_grid = [row[:] for row in input_grid]
    for c in range(width):
        output_grid[0][c] = target_color
        output_grid[height-1][c] = target_color
    for r in range(1, height-1):
        output_grid[r][0] = target_color
        output_grid[r][width-1] = target_color
    return output_grid
