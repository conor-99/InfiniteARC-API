# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: b1b2cbc2
Difficulty: easy

=== Tags ===
- Measure area

=== Description ===
The task involves measuring the area of a single connected region in the input
grid. The input grid contains exactly one connected region (all cells of the
same non-zero color) surrounded by zero-valued cells. The output grid has the
same dimensions as the input, with the top-left cell set to the area (number of
cells in the connected region), and all other cells set to zero. The area is
guaranteed to be a single digit (1-9) due to the constraints of the grid size
and region connectivity.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common
import random

def generate():
    N = random.randint(1, 9)
    C = random.choice([x for x in range(1, 10) if x != N])
    region_pixels = common.continuous_creature(N, 3, 3)
    H = random.randint(3, 30)
    W = random.randint(3, 30)
    input_grid = common.grid(W, H, 0)
    for r, c in region_pixels:
        if r < H and c < W:
            input_grid[r][c] = C
    output_grid = common.grid(W, H, 0)
    output_grid[0][0] = N
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    start_r, start_c = -1, -1
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 0:
                start_r, start_c = r, c
                break
        if start_r != -1:
            break
    if start_r == -1:
        return common.grid(width, height, 0)
    color = input_grid[start_r][start_c]
    visited = [[False] * width for _ in range(height)]
    queue = [(start_r, start_c)]
    count = 0
    while queue:
        r, c = queue.pop(0)
        if visited[r][c] or input_grid[r][c] != color:
            continue
        visited[r][c] = True
        count += 1
        for dr, dc in [(1,0), (-1,0), (0,1), (0,-1)]:
            nr, nc = r + dr, c + dc
            if 0 <= nr < height and 0 <= nc < width and not visited[nr][nc] and input_grid[nr][nc] == color:
                queue.append((nr, nc))
    output_grid = common.grid(width, height, 0)
    output_grid[0][0] = count
    return output_grid
