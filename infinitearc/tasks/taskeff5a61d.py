# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: eff5a61d
Difficulty: hard

=== Tags ===
- Pattern repetition

=== Description ===
The task involves transforming an input grid into an output grid by repeating
the input pattern in a 2x2 arrangement of rotated versions. The input grid must
be at least 2x2 in size. The output grid is constructed by dividing it into four
equal quadrants, where each quadrant corresponds to the input grid rotated by 0°
(top-left), 90° (top-right), 180° (bottom-left), and 270° (bottom-right). The
rotation direction follows standard clockwise rotation (90° increments). For
example, a 2x2 input grid becomes a 4x4 output grid, with each 2x2 quadrant
being a rotated copy of the input. The rule requires recognizing the rotational
pattern across all quadrants, making it challenging due to the need to discern
the rotation sequence and consistent application across the grid. The input and
output grids are always different in structure, and the transformation is
deterministic based on the input's dimensions and content.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    n = random.randint(2, 15)
    input_grid = [[random.randint(0, 9) for _ in range(n)] for _ in range(n)]
    rot_90 = [list(x)[::-1] for x in zip(*input_grid)]
    rot_180 = [row[::-1] for row in input_grid[::-1]]
    rot_270 = [list(x)[::-1] for x in zip(*rot_180)]
    output_grid = []
    for i in range(n):
        output_grid.append(input_grid[i] + rot_90[i])
    for i in range(n):
        output_grid.append(rot_180[i] + rot_270[i])
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    input_grid = [list(row) for row in input_grid]
    n = len(input_grid)
    rot_90 = [list(x)[::-1] for x in zip(*input_grid)]
    rot_180 = [row[::-1] for row in input_grid[::-1]]
    rot_270 = [list(x)[::-1] for x in zip(*rot_180)]
    output_grid = []
    for i in range(n):
        output_grid.append(input_grid[i] + rot_90[i])
    for i in range(n):
        output_grid.append(rot_180[i] + rot_270[i])
    return output_grid
