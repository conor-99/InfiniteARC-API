# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-03
# ---------------------------------------------------------------

"""
Task ID: c43723d2
Difficulty: medium

=== Tags ===
- Jigsaw
- Draw line from point

=== Description ===
Input grids consist of multiple regions (connected areas of the same color) with
each region's top-left corner explicitly marked by color 1. Output grids
transform the input by drawing a horizontal line (using color 2) from each color
1 cell to the right edge of the grid, replacing all cells in the same row from
the color 1 position to the rightmost column with color 2. This visually
connects the top-left corner of each jigsaw piece to the grid boundary,
indicating the piece's extent. The transformation is deterministic: for every
cell containing color 1, all cells to its right in the same row (including
itself) become color 2, regardless of original content.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = common.grid(width, height, 0)
    
    # Place at least one color 1
    num_ones = random.randint(1, 5)
    for _ in range(num_ones):
        r = random.randint(0, height-1)
        c = random.randint(0, width-1)
        input_grid[r][c] = 1
    
    # Fill other cells with random colors (0-9 excluding 1)
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 1:
                input_grid[r][c] = random.choice([c for c in range(0, 10) if c != 1])
    
    # Generate output
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        min_col = width
        for c in range(width):
            if input_grid[r][c] == 1:
                min_col = min(min_col, c)
        if min_col < width:
            for c in range(min_col, width):
                output_grid[r][c] = 2
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    if not input_grid:
        return input_grid
    width = len(input_grid[0])
    height = len(input_grid)
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        min_col = width
        for c in range(width):
            if input_grid[r][c] == 1:
                min_col = min(min_col, c)
        if min_col < width:
            for c in range(min_col, width):
                output_grid[r][c] = 2
    return output_grid
