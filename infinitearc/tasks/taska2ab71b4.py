# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: a2ab71b4
Difficulty: medium

=== Tags ===
- Only one
- Associate colors to images

=== Description ===
The input grid contains exactly one connected region of non-zero color (the
"only one" image), surrounded by background (zero). The output grid replaces all
pixels of this connected region with a fixed color (e.g., 5), associating the
image with this color. The rule is to identify the single connected component
(ensuring it's the only non-background region) and change its color to the
predefined associated color, regardless of its original hue. This requires
recognizing the unique region and applying a consistent color mapping based on
its presence as the sole image in the grid.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid, continuous_creature

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    size = random.randint(1, min(20, width * height))
    creature_pixels = continuous_creature(size, width, height)
    color = random.choice([1, 2, 3, 4, 6, 7, 8, 9])
    input_grid = grid(width, height, 0)
    for r, c in creature_pixels:
        input_grid[r][c] = color
    output_grid = grid(width, height, 0)
    for r, c in creature_pixels:
        output_grid[r][c] = 5
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    return [[5 if cell != 0 else 0 for cell in row] for row in input_grid]
