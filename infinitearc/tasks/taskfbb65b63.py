# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: fbb65b63
Difficulty: hard

=== Tags ===
- Image reflection
- Image expansion

=== Description ===
The task involves transforming an input grid into an output grid by reflecting
each row horizontally (left-right) and expanding the grid such that each row
becomes the original row followed by its reverse without the first element. For
example, an input row [a, b, c] becomes [a, b, c, b, a] in the output. This
results in an output grid with the same height as the input but a width of
2*input_width - 1. The transformation requires recognizing both the horizontal
reflection and the precise expansion pattern to avoid duplication at the center,
making it challenging due to the need for abstract reasoning about the
relationship between input and output dimensions and structure.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    h = random.randint(1, 30)
    w = random.randint(2, 15)
    input_grid = [[random.randint(0, 9) for _ in range(w)] for _ in range(h)]
    output_grid = []
    for row in input_grid:
        output_row = row + row[-2::-1]
        output_grid.append(output_row)
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output_grid = []
    for row in input_grid:
        output_row = row + row[-2::-1]
        output_grid.append(output_row)
    return output_grid
