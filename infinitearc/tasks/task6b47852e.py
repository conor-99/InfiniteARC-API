# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: 6b47852e
Difficulty: easy

=== Tags ===
- Color by distance to a single point
- Color majority column
- Mirror pad edges
- Grid coloring

=== Description ===
The task involves transforming an input grid into an output grid where each
cell's color is determined by its Manhattan distance from a fixed reference
point—the top-left corner (0,0). The output grid maintains the same dimensions
as the input. For each cell at position (r, c), the Manhattan distance is
calculated as r + c. This distance value is mapped to a predefined sequence of
colors: distance 0 → color 5, distance 1 → color 3, distance 2 → color 2,
distance 3 → color 4, distance 4 → color 1, and the pattern repeats cyclically
for larger distances (e.g., distance 5 → color 5, distance 6 → color 3, etc.).
This creates a visual gradient radiating from the top-left corner, with colors
changing predictably based on proximity to the reference point. The
transformation relies solely on geometric distance and a fixed color mapping,
avoiding numerical computations or pixel-level matching.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    colors = [5, 3, 2, 4, 1]
    output_grid = [[colors[(r + c) % 5] for c in range(width)] for r in range(height)]
    while input_grid == output_grid:
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    colors = [5, 3, 2, 4, 1]
    return [[colors[(r + c) % 5] for c in range(width)] for r in range(height)]
