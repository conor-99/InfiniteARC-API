# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: b09a5569
Difficulty: easy

=== Tags ===
- Extend line to edge
- Diagonals
- Pattern moving
- Associate images to numbers

=== Description ===
The input grids contain a single diagonal line (slope 1) of a uniform color that
terminates before reaching the bottom-right grid corner. The output grid extends
this diagonal line to the bottom-right edge by filling all missing diagonal
cells between the existing line and the corner with the same color. All other
cells in the grid remain unchanged. The transformation relies solely on visual
structure (diagonal alignment and edge proximity), avoiding numerical
relationships or color value dependencies. The line is extended in the direction
it is oriented (down-right), and the rule applies consistently to any incomplete
diagonal segment meeting these criteria.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    N = random.randint(2, 30)
    color = random.randint(1, 9)
    k = random.randint(0, N-2)
    input_grid = [[0] * N for _ in range(N)]
    output_grid = [[0] * N for _ in range(N)]
    for i in range(k + 1):
        input_grid[i][i] = color
        output_grid[i][i] = color
    for i in range(k + 1, N):
        output_grid[i][i] = color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import random

def p(input_grid):
    N = len(input_grid)
    last_index = -1
    for i in range(N):
        if input_grid[i][i] != 0:
            last_index = i
    color = input_grid[last_index][last_index]
    output_grid = [list(row) for row in input_grid]
    for i in range(last_index + 1, N):
        output_grid[i][i] = color
    return output_grid
