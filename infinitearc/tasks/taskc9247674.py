# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: c9247674
Difficulty: easy

=== Tags ===
- Collapse duplicates

=== Description ===
The input grids are 2D arrays of colors (values 0-9) where each row may contain
consecutive duplicate colors. The output grid is generated by processing each
row to replace all consecutive duplicate colors (after the first occurrence)
with 0, while retaining the first instance of each run. For example, a row [2,
2, 3, 3, 3, 4] transforms into [2, 0, 3, 0, 0, 4]. This operation ensures no
adjacent duplicates remain in any row of the output grid, with the grid
dimensions remaining unchanged. The task is visual and relies on identifying
adjacent color repetitions rather than numerical properties.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = []
    for _ in range(height):
        row = [random.randint(0, 9)]
        for _ in range(1, width):
            if random.random() < 0.3:
                row.append(row[-1])
            else:
                row.append(random.randint(0, 9))
        input_grid.append(row)
    
    output_grid = []
    for row in input_grid:
        new_row = []
        prev = None
        for color in row:
            if color == prev:
                new_row.append(0)
            else:
                new_row.append(color)
                prev = color
        output_grid.append(new_row)
    
    if input_grid == output_grid:
        input_grid[0][0] = (input_grid[0][0] + 1) % 10
        output_grid = []
        for row in input_grid:
            new_row = []
            prev = None
            for color in row:
                if color == prev:
                    new_row.append(0)
                else:
                    new_row.append(color)
                    prev = color
            output_grid.append(new_row)
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output_grid = []
    for row in input_grid:
        new_row = []
        prev = None
        for color in row:
            if color == prev:
                new_row.append(0)
            else:
                new_row.append(color)
                prev = color
        output_grid.append(new_row)
    return output_grid
