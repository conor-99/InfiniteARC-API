# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-09
# ---------------------------------------------------------------

"""
Task ID: e0280cba
Difficulty: mediumâ€“hard

=== Tags ===
- Inference from demonstration
- Remove border
- Algebra

=== Description ===
Input grids feature a single-color border (one cell thick) surrounding the
entire grid, with the border color consistent across all border cells for each
input. The inner grid (excluding the border) contains a pattern of colors. The
output grid is generated by first removing the border and then transposing the
inner grid (swapping rows and columns such that the element at position (i,j) in
the inner grid moves to (j,i) in the output). The border color does not
influence the transformation; the rule is consistent for all inputs. The model
must infer that the inner grid must be transposed to match the output,
recognizing that the transformation is structural (not numerical) and applies
universally regardless of border color or inner grid content.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(3, 30)
    height = random.randint(3, 30)
    border_color = random.randint(0, 9)
    input_grid = [[border_color] * width for _ in range(height)]
    for r in range(1, height - 1):
        for c in range(1, width - 1):
            input_grid[r][c] = random.randint(0, 9)
    inner_grid = [row[1:-1] for row in input_grid[1:-1]]
    output_grid = [list(x) for x in zip(*inner_grid)]
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    inner_grid = [row[1:-1] for row in input_grid[1:-1]]
    return [list(x) for x in zip(*inner_grid)]
