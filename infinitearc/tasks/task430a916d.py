# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: 430a916d
Difficulty: easy

=== Tags ===
- Color the row with most dots
- Direction guessing

=== Description ===
The task involves transforming an input grid into an output grid by identifying
the row with the highest number of non-zero cells (referred to as "dots") and
coloring all cells in that row with a specific color (e.g., blue). The row with
the most dots is determined by counting the number of non-zero values in each
row; if multiple rows share the same maximum count, the topmost row is selected.
The output grid retains all other rows unchanged from the input, differing only
in the selected row's color. The "direction guessing" aspect refers to the
solver's need to recognize the direction of dot density (i.e., which row has the
most dots) to apply the transformation, though the actual rule is purely based
on row-wise dot count.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    counts = [sum(1 for x in row if x != 0) for row in grid]
    max_count = max(counts)
    target_row = counts.index(max_count)
    
    if all(x == 1 for x in grid[target_row]):
        for i in range(width):
            if grid[target_row][i] != 1:
                grid[target_row][i] = random.randint(2, 9)
                break
        else:
            grid[target_row][0] = random.randint(2, 9)
    
    output = [row[:] for row in grid]
    output[target_row] = [1] * width
    
    return {"input": grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    width = len(input_grid[0])
    height = len(input_grid)
    counts = [sum(1 for x in row if x != 0) for row in input_grid]
    max_count = max(counts)
    target_row = counts.index(max_count)
    
    output = [row[:] for row in input_grid]
    output[target_row] = [1] * width
    return output
