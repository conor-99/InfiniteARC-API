# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: d5c7954a
Difficulty: easy

=== Tags ===
- Pattern juxtaposition
- Associate colors to images

=== Description ===
The task involves input grids containing exactly one 2×2 contiguous block of
non-zero color (the "image") surrounded by background color 0. The output grid
replaces all cells within this specific 2×2 block with color 7, regardless of
the original color used in the input. The position of the block varies across
examples (e.g., top-left, center, bottom-right), but the rule remains
consistent: identify the single 2×2 block of non-zero values and fill it
entirely with 7. Background cells (color 0) remain unchanged. This transforms
the input's "image" pattern into a fixed color association (7), demonstrating
pattern juxtaposition and color-image association through a simple, consistent
rule.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    width = common.randint(2, 30)
    height = common.randint(2, 30)
    color = common.choice([1, 2, 3, 4, 5, 6, 8, 9])
    input_grid = common.grid(width, height, 0)
    r = common.randint(0, height - 2)
    c = common.randint(0, width - 2)
    input_grid[r][c] = color
    input_grid[r][c + 1] = color
    input_grid[r + 1][c] = color
    input_grid[r + 1][c + 1] = color
    output_grid = [row[:] for row in input_grid]
    output_grid[r][c] = 7
    output_grid[r][c + 1] = 7
    output_grid[r + 1][c] = 7
    output_grid[r + 1][c + 1] = 7
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    for r in range(height - 1):
        for c in range(width - 1):
            if input_grid[r][c] != 0 and input_grid[r][c+1] != 0 and input_grid[r+1][c] != 0 and input_grid[r+1][c+1] != 0:
                output_grid = [row[:] for row in input_grid]
                output_grid[r][c] = 7
                output_grid[r][c+1] = 7
                output_grid[r+1][c] = 7
                output_grid[r+1][c+1] = 7
                return output_grid
    return input_grid
