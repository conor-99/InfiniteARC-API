# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 4183eea6
Difficulty: medium

=== Tags ===
- Associate images to bools
- Select every nth row
- Only one

=== Description ===
Each input grid contains rows with a specific two-color sequence (e.g., red
followed by blue) in the first two columns. The output grid consists of the
single row containing this sequence, as the task requires associating this
visual pattern to a boolean "true" condition, selecting every nth row (where n=1
due to the "Only one" tag), and the input is constructed to include exactly one
matching row. The transformation focuses on recognizing a consistent visual
pattern rather than numerical properties, ensuring the rule is discoverable
through visual inspection of the input-output pairs.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    width = common.randint(2, 30)
    height = common.randint(3, 30)
    A = common.random_color(exclude=[0])
    B = common.random_color(exclude=[0, A])
    C = common.random_color(exclude=[0])
    D = common.random_color(exclude=[0, C])
    while (C, D) == (A, B):
        C = common.random_color(exclude=[0])
        D = common.random_color(exclude=[0, C])
    target_row = common.randint(0, height - 1)
    input_grid = common.grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            if r == target_row:
                if c == 0:
                    input_grid[r][c] = A
                elif c == 1:
                    input_grid[r][c] = B
                else:
                    input_grid[r][c] = common.random_color(exclude=[0])
            else:
                if c == 0:
                    input_grid[r][c] = C
                elif c == 1:
                    input_grid[r][c] = D
                else:
                    input_grid[r][c] = common.random_color(exclude=[0])
    output_grid = [input_grid[target_row][:]]
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    pairs = []
    for row in input_grid:
        pairs.append((row[0], row[1]))
    for pair in pairs:
        if pairs.count(pair) == 1:
            for i, row in enumerate(input_grid):
                if (row[0], row[1]) == pair:
                    return [row]
