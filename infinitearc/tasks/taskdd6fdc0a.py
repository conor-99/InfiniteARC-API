# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: dd6fdc0a
Difficulty: easy

=== Tags ===
- Place dot in object center
- Draw parallel line
- Associate colors to numbers

=== Description ===
The input grids contain a single solid rectangular object (a contiguous block of
a single non-zero color) positioned on a zero-background grid. The rectangle has
odd width and height dimensions, ensuring a clear center cell. The output grid
is identical to the input except for a dot (fixed color 5) placed at the exact
geometric center of the rectangle. The center is determined by the middle cell
of the rectangle's bounding box (e.g., a 3×3 rectangle centers at its middle
cell, a 5×1 horizontal line centers at its third cell). The transformation
requires identifying the object's bounding box, calculating its center, and
replacing that cell with color 5. The "Associate colors to numbers" tag refers
to color 5 being the visual representation for the center dot (without relying
on numerical values), while "Draw parallel line" is not directly applied in this
task but may appear in example inputs where lines serve as part of the object
structure.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    w = random.randint(1, 30)
    h = random.randint(1, 30)
    grid = [[0] * w for _ in range(h)]
    
    rect_w = random.choice([i for i in range(1, min(w, 30)+1) if i % 2 == 1])
    rect_h = random.choice([i for i in range(1, min(h, 30)+1) if i % 2 == 1])
    
    color = random.choice([1,2,3,4,6,7,8,9])
    
    r = random.randint(0, h - rect_h)
    c = random.randint(0, w - rect_w)
    
    for i in range(r, r + rect_h):
        for j in range(c, c + rect_w):
            grid[i][j] = color
    
    output = [row[:] for row in grid]
    center_r = r + rect_h // 2
    center_c = c + rect_w // 2
    output[center_r][center_c] = 5
    
    return {"input": grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    color = None
    for row in input_grid:
        for val in row:
            if val != 0:
                color = val
                break
        if color is not None:
            break
    if color is None:
        return input_grid
    
    rows, cols = [], []
    for r in range(len(input_grid)):
        for c in range(len(input_grid[0])):
            if input_grid[r][c] == color:
                rows.append(r)
                cols.append(c)
    
    min_r, max_r = min(rows), max(rows)
    min_c, max_c = min(cols), max(cols)
    
    center_r = (min_r + max_r) // 2
    center_c = (min_c + max_c) // 2
    
    output = [list(row) for row in input_grid]
    output[center_r][center_c] = 5
    return output
