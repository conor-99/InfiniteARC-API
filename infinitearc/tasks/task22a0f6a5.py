# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: 22a0f6a5
Difficulty: easy

=== Tags ===
- Image expasion
- Associate colors to bools
- Extrapolate image from grid
- Associate colors to ranks

=== Description ===
The task involves transforming an input grid into an output grid through a
simple image expansion process. The input grid contains a single connected
region (all non-zero cells) on a zero background, representing a visual shape.
The output grid is created by scaling the input region by a factor of 2 in both
dimensions, where each non-zero cell in the input becomes a 2Ã—2 block of the
same color in the output. Zero background cells remain zero. The transformation
relies on associating non-zero colors with a "true" state (indicating presence
of the shape) and zero with a "false" state (background), while the color values
themselves correspond to ranks (e.g., color 1 = rank 1, color 5 = rank 5),
though the expansion factor is fixed and independent of the rank. The output
grid is a direct extrapolation of the input shape, maintaining all color
associations and extending the pattern uniformly. This task is easy as the rule
is consistent, visually intuitive, and requires no complex reasoning beyond
recognizing the scaling pattern.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    from common import continuous_creature, random_color, grid
    grid_width = random.randint(1, 15)
    grid_height = random.randint(1, 15)
    shape_size = random.randint(1, min(10, grid_width * grid_height))
    pixels = continuous_creature(shape_size, grid_width, grid_height)
    input_grid = grid(grid_width, grid_height, 0)
    for (r, c) in pixels:
        input_grid[r][c] = random_color()
    output_grid = grid(2 * grid_width, 2 * grid_height, 0)
    for r in range(grid_height):
        for c in range(grid_width):
            color = input_grid[r][c]
            if color != 0:
                output_grid[2*r][2*c] = color
                output_grid[2*r][2*c+1] = color
                output_grid[2*r+1][2*c] = color
                output_grid[2*r+1][2*c+1] = color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    import common
    h = len(input_grid)
    w = len(input_grid[0])
    output_w = 2 * w
    output_h = 2 * h
    output_grid = common.grid(output_w, output_h, 0)
    for r in range(h):
        for c in range(w):
            color = input_grid[r][c]
            if color != 0:
                output_grid[2*r][2*c] = color
                output_grid[2*r][2*c+1] = color
                output_grid[2*r+1][2*c] = color
                output_grid[2*r+1][2*c+1] = color
    return output_grid
