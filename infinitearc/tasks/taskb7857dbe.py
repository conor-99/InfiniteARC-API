# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-02
# ---------------------------------------------------------------

"""
Task ID: b7857dbe
Difficulty: easy

=== Tags ===
- Pattern resizing
- Color guessing
- Measure area
- Associate color to bools

=== Description ===
The input grid contains a single connected region (shape) represented by a non-
zero color. The output grid is created by scaling the input shape by a factor of
2, where each cell in the input becomes a 2Ã—2 block in the output. The color
used for the scaled shape in the output is determined by the parity of the input
shape's area (number of cells): if the area is even, the shape is colored 2; if
odd, it is colored 3. All other cells in the output grid remain 0. This task
requires measuring the area of the input shape, associating its parity with a
specific color, and applying a consistent pattern resizing operation.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid, continuous_creature
def generate():
    width = random.randint(1, 15)
    height = random.randint(1, 15)
    size = random.randint(1, min(50, width * height))
    pixels = continuous_creature(size, width, height)
    input_grid = grid(width, height, 0)
    for r, c in pixels:
        input_grid[r][c] = 1
    area = len(pixels)
    output_color = 2 if area % 2 == 0 else 3
    output_grid = grid(2 * width, 2 * height, 0)
    for r, c in pixels:
        output_grid[2*r][2*c] = output_color
        output_grid[2*r][2*c + 1] = output_color
        output_grid[2*r + 1][2*c] = output_color
        output_grid[2*r + 1][2*c + 1] = output_color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

from common import grid
def p(input_grid):
    if not input_grid or not input_grid[0]:
        return []
    height = len(input_grid)
    width = len(input_grid[0])
    shape = []
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 0:
                shape.append((r, c))
    area = len(shape)
    output_color = 2 if area % 2 == 0 else 3
    output_grid = grid(2 * width, 2 * height, 0)
    for r, c in shape:
        output_grid[2*r][2*c] = output_color
        output_grid[2*r][2*c + 1] = output_color
        output_grid[2*r + 1][2*c] = output_color
        output_grid[2*r + 1][2*c + 1] = output_color
    return output_grid
