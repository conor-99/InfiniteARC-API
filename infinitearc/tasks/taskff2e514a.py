# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: ff2e514a
Difficulty: easy

=== Tags ===
- Recolor
- Color the column with fewest dots

=== Description ===
The input grids are 2D arrays of integers ranging from 0 to 9, where 0
represents the background color and all other values represent distinct colored
cells. Each grid contains at least one non-background cell in every column to
ensure a well-defined solution.   To generate the output grid, first count the
number of non-background cells (non-zero values) in each column. Identify the
column with the smallest count of non-background cells. If multiple columns
share the same minimum count, select the leftmost column. Then, replace every
cell in this identified column with the value 5 (representing a gray color),
while all other cells in the grid remain unchanged. This transformation ensures
the output grid visually highlights the column with the fewest colored cells
through a consistent recoloring rule.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    for col in range(width):
        row = random.randint(0, height - 1)
        color = random.choice([1, 2, 3, 4, 6, 7, 8, 9])
        input_grid[row][col] = color
    min_count = float('inf')
    selected_col = 0
    for col in range(width):
        count = sum(1 for r in range(height) if input_grid[r][col] != 0)
        if count < min_count:
            min_count = count
            selected_col = col
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        output_grid[r][selected_col] = 5
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    min_count = float('inf')
    selected_col = 0
    for col in range(width):
        count = sum(1 for r in range(height) if input_grid[r][col] != 0)
        if count < min_count:
            min_count = count
            selected_col = col
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        output_grid[r][selected_col] = 5
    return output_grid
