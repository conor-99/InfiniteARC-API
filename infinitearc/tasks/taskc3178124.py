# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: c3178124
Difficulty: easy

=== Tags ===
- Pattern intersection
- Out of boundary
- Align to corner

=== Description ===
The input grid features two intersecting patterns, such as a horizontal line and
a vertical line, crossing at a single cell. The output grid is formed by
cropping the input grid from this intersection point to the bottom-right corner.
This transformation aligns the intersection point to the top-left corner of the
output grid, effectively removing any elements that were positioned before the
intersection in the input grid. The resulting grid size may be smaller than the
input, but remains within the valid 1×1 to 30×30 dimensions.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
import common

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    while True:
        r = random.randint(0, height-1)
        c = random.randint(0, width-1)
        if r == 0 and c == 0:
            continue
        break
    input_grid = common.grid(width, height, 0)
    for col in range(width):
        input_grid[r][col] = 1
    for row in range(height):
        input_grid[row][c] = 2
    output_grid = [row[c:] for row in input_grid[r:]]
    return {
        "input": input_grid,
        "output": output_grid
    }


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid or not input_grid[0]:
        return []
    height = len(input_grid)
    width = len(input_grid[0])
    
    row_counts = [sum(1 for cell in row if cell != 0) for row in input_grid]
    r = row_counts.index(max(row_counts))
    
    col_counts = [sum(1 for i in range(height) if input_grid[i][col] != 0) for col in range(width)]
    c = col_counts.index(max(col_counts))
    
    return [row[c:] for row in input_grid[r:]]
