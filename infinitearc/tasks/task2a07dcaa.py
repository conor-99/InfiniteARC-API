# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 2a07dcaa
Difficulty: medium

=== Tags ===
- Shape guessing
- Draw pattern from point
- Background filling

=== Description ===
The input grid contains exactly one non-zero pixel (the "seed" point), with all
other pixels set to zero. The output grid is generated by drawing a diamond-
shaped pattern centered at the seed point, where all pixels within a Manhattan
distance of 2 from the seed are filled with the seed's color. Pixels outside
this diamond (the background) are filled with zero. This transformation requires
recognizing the seed point, applying the Manhattan distance rule to define the
diamond shape, and filling both the pattern and background according to the
specified rules. The task combines shape inference (guessing the diamond pattern
from a single point), pattern drawing from that point, and background filling
with zero.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    input_grid = [[0] * width for _ in range(height)]
    color = random.randint(1, 9)
    r = random.randint(0, height - 1)
    c = random.randint(0, width - 1)
    input_grid[r][c] = color
    output_grid = [[0] * width for _ in range(height)]
    for x in range(height):
        for y in range(width):
            if abs(x - r) + abs(y - c) <= 2:
                output_grid[x][y] = color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    height = len(input_grid)
    width = len(input_grid[0])
    seed_color = None
    seed_pos = None
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 0:
                seed_color = input_grid[r][c]
                seed_pos = (r, c)
                break
        if seed_pos:
            break
    if seed_color is None:
        seed_color = 0
        seed_pos = (0, 0)
    r, c = seed_pos
    output_grid = [[0] * width for _ in range(height)]
    for x in range(height):
        for y in range(width):
            if abs(x - r) + abs(y - c) <= 2:
                output_grid[x][y] = seed_color
    return output_grid
