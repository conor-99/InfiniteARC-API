# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-07
# ---------------------------------------------------------------

"""
Task ID: 35de4c02
Difficulty: easy

=== Tags ===
- Permute rows by length

=== Description ===
Each input grid contains a rectangular arrangement of cells where non-zero
values represent colored cells and zero represents empty space. The output grid
is generated by rearranging the rows of the input grid such that rows containing
fewer colored cells appear before rows containing more colored cells. The order
of rows with identical numbers of colored cells remains unchanged. This
transformation is purely based on the visual count of colored cells per row,
requiring no arithmetic operations or pixel-level analysis.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common

def generate():
    h = common.randint(2, 30)
    w = common.randint(1, 30)
    counts = list(range(h))
    if counts == sorted(counts):
        counts[0], counts[1] = counts[1], counts[0]
    input_grid = []
    for count in counts:
        actual_count = min(count, w)
        row = [0] * w
        positions = common.sample(range(w), actual_count)
        for pos in positions:
            row[pos] = common.random_color()
        input_grid.append(row)
    output_grid = sorted(input_grid, key=lambda row: sum(1 for x in row if x != 0))
    return {'input': input_grid, 'output': output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    return sorted(input_grid, key=lambda row: sum(1 for x in row if x != 0))
