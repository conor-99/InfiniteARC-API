# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: c6b4b3db
Difficulty: insane

=== Tags ===
- One yes one no
- Pattern completion

=== Description ===
The input grids consist of 2D arrangements of values between 0 and 9, where the
task requires completing a pattern based on a specific binary condition. Each
2x2 block within the grid must contain exactly one "yes" (represented by the
value 1) and three "no" values (represented by 0). The transformation from input
to output involves analyzing all overlapping 2x2 blocks in the grid and
adjusting cell values to ensure every block adheres to this rule. This requires
resolving conflicts where a single cell belongs to multiple blocks, as modifying
one cell affects multiple blocks simultaneously. The "one yes one no" condition
specifies that each block must contain precisely one 1 (yes) and three 0s (no),
making the pattern completion non-trivial due to overlapping block dependencies.
The output grid is the unique solution that satisfies this constraint across all
blocks, requiring abstract reasoning to determine which cells to modify.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    output = [[1 if i % 2 == 0 and j % 2 == 0 else 0 for j in range(width)] for i in range(height)]
    input_grid = [row[:] for row in output]
    input_grid[0][0] = 0
    return {"input": input_grid, "output": output}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    h = len(input_grid)
    w = len(input_grid[0])
    output = [row[:] for row in input_grid]
    for i in range(h-1):
        for j in range(w-1):
            total = output[i][j] + output[i][j+1] + output[i+1][j] + output[i+1][j+1]
            if total == 0:
                output[i][j] = 1
    return output
