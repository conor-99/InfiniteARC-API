# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: 9f99680e
Difficulty: easy

=== Tags ===
- Pattern alignment
- Draw diagonal line

=== Description ===
The task involves transforming an input grid into an output grid by drawing a
diagonal line from the top-left corner to the bottom-right corner. The output
grid retains all original values from the input grid except for the main
diagonal cells (where row index equals column index), which are set to the value
1. This transformation ensures that the diagonal line is consistently drawn
across all grid sizes, regardless of the input's content, while maintaining all
other grid elements unchanged. The rule is simple, deterministic, and easily
discoverable through observation of the diagonal pattern in the output.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    
    all_ones = True
    for i in range(min(width, height)):
        if input_grid[i][i] != 1:
            all_ones = False
            break
    
    if all_ones:
        input_grid[0][0] = 2
    
    output_grid = [row[:] for row in input_grid]
    for i in range(min(width, height)):
        output_grid[i][i] = 1
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    output = [row[:] for row in input_grid]
    n = min(len(output), len(output[0]))
    for i in range(n):
        output[i][i] = 1
    return output
