# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-04
# ---------------------------------------------------------------

"""
Task ID: 934365cc
Difficulty: medium

=== Tags ===
- Detect hor lines
- Enlarge image

=== Description ===
The task involves transforming an input grid to an output grid by identifying
horizontal lines—rows where all cells are filled with the same non-background
color—and duplicating each such row. The output grid maintains the original
width but increases in height by the number of identified horizontal lines. For
example, a horizontal line row [3,3,3] becomes two consecutive rows [3,3,3] in
the output. The background color (0) is not considered part of a horizontal
line, so rows of all 0s remain unchanged. This requires recognizing uniform rows
and applying a simple duplication rule to enlarge the grid vertically.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 15)
    input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
    row_idx = random.randint(0, height - 1)
    color = random.randint(1, 9)
    input_grid[row_idx] = [color] * width
    output_grid = []
    for row in input_grid:
        if all(x == row[0] for x in row) and row[0] != 0:
            output_grid.append(row)
            output_grid.append(row)
        else:
            output_grid.append(row)
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    output = []
    for row in input_grid:
        if all(x == row[0] for x in row) and row[0] != 0:
            output.append(row)
            output.append(row)
        else:
            output.append(row)
    return output
