# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: 8c4a7c38
Difficulty: easy

=== Tags ===
- Trim trailing background

=== Description ===
The task involves transforming an input grid by removing trailing background
elements. The background color is defined as 0. The transformation process trims
all columns from the rightmost end that consist entirely of background (0), and
trims all rows from the bottommost end that consist entirely of background (0).
This results in an output grid that contains only the non-background content,
with no trailing background rows or columns. For example, if the input grid has
a rightmost column filled with 0s and a bottom row filled with 0s, both are
removed to form the output grid. The operation is deterministic and applies
uniformly across all valid input grids.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

def generate():
    import random
    m = random.randint(1, 29)
    n = random.randint(1, 29)
    base = [[random.randint(0, 9) for _ in range(n)] for _ in range(m)]
    while all(base[r][n-1] == 0 for r in range(m)):
        base = [[random.randint(0, 9) for _ in range(n)] for _ in range(m)]
    while all(base[m-1][c] == 0 for c in range(n)):
        base = [[random.randint(0, 9) for _ in range(n)] for _ in range(m)]
    k = random.randint(1, 30 - n)
    l = random.randint(1, 30 - m)
    input_grid = [row + [0]*k for row in base]
    input_grid += [[0]*(n + k) for _ in range(l)]
    return {"input": input_grid, "output": base}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if not input_grid or not input_grid[0]:
        return []
    rows = len(input_grid)
    cols = len(input_grid[0])
    col_end = cols - 1
    while col_end >= 0 and all(input_grid[r][col_end] == 0 for r in range(rows)):
        col_end -= 1
    if col_end < 0:
        col_end = 0
    row_end = rows - 1
    while row_end >= 0 and all(input_grid[row_end][c] == 0 for c in range(cols)):
        row_end -= 1
    if row_end < 0:
        row_end = 0
    return [row[:col_end + 1] for row in input_grid[:row_end + 1]]
