# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-08
# ---------------------------------------------------------------

"""
Task ID: a9347ad8
Difficulty: easy

=== Tags ===
- Color the column with fewest dots
- Loop filling
- Create grid

=== Description ===
The input grid consists of a 2D arrangement of colored cells (numbers 1-9) on a
black background (0). The task requires identifying the column containing the
fewest colored cells (non-zero entries). Once identified, every cell in that
column is recolored to a fixed target color (e.g., blue, represented by the
number 5), while all other cells remain unchanged. The solution is determined by
visually comparing the density of colored cells across columns, selecting the
sparsest column, and uniformly filling it with the target color. This rule is
consistent across all valid grids, ensuring the output differs from the input by
transforming only the identified column.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
def generate():
    width = random.randint(1, 30)
    height = random.randint(1, 30)
    input_grid = [[0] * width for _ in range(height)]
    min_count = random.randint(0, height - 1)
    target_col = random.randint(0, width - 1)
    
    for col in range(width):
        count = min_count if col == target_col else min_count + 1
        if count > 0:
            rows_to_fill = random.sample(range(height), count)
            for r in rows_to_fill:
                color = random.choice([1,2,3,4,6,7,8,9])
                input_grid[r][col] = color
    
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        output_grid[r][target_col] = 5
    
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    if isinstance(input_grid, tuple):
        input_grid = [list(row) for row in input_grid]
    height = len(input_grid)
    width = len(input_grid[0])
    col_counts = [0] * width
    for col in range(width):
        for row in range(height):
            if input_grid[row][col] != 0:
                col_counts[col] += 1
    min_count = min(col_counts)
    target_col = col_counts.index(min_count)
    output_grid = [row[:] for row in input_grid]
    for r in range(height):
        output_grid[r][target_col] = 5
    return output_grid
