# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: cd7ad4ec
Difficulty: medium

=== Tags ===
- Only one

=== Description ===
The input grid contains a single connected region (a group of orthogonally
adjacent cells sharing the same color) that is not symmetric with respect to the
vertical midline of the grid. The output grid is generated by reflecting this
single region over the vertical midline while keeping all other background cells
unchanged. The transformation requires identifying the unique connected region,
determining its position relative to the grid's vertical axis, and mirroring
each cell within the region across this axis. The rule is purely spatial,
relying on the arrangement and connectivity of the region rather than numerical
properties or color values. Since the region is the only one in the grid and is
intentionally asymmetric, the output grid will always differ from the input.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid, random_el

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    color = random.randint(1, 9)
    region = random_el(width, height)
    input_grid = grid(width, height, 0)
    for r, c in region:
        input_grid[r][c] = color
    output_grid = grid(width, height, 0)
    for r, c in region:
        output_grid[r][width - 1 - c] = color
    return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

from common import grid

def p(input_grid):
    if not input_grid or not input_grid[0]:
        return input_grid
    width = len(input_grid[0])
    height = len(input_grid)
    color = None
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] != 0:
                color = input_grid[r][c]
                break
        if color is not None:
            break
    output_grid = grid(width, height, 0)
    for r in range(height):
        for c in range(width):
            if input_grid[r][c] == color:
                output_grid[r][width - 1 - c] = color
    return output_grid
