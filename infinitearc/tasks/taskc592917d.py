# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-06
# ---------------------------------------------------------------

"""
Task ID: c592917d
Difficulty: medium

=== Tags ===
- Direction guesingcrop
- Bounce
- Inside out

=== Description ===
The task involves grids containing a single horizontal bounce path that starts
at the bottom-left corner, moves right, and bounces between the left and right
edges while progressing downward. The output grid reverses the horizontal
direction of this path, making it start at the bottom-right corner and move
left, bouncing between the right and left edges while progressing downward. This
"inside out" transformation flips the direction of the bounce path while
maintaining its vertical progression, requiring the solver to recognize the
path's direction and apply the reversal. The transformation is deterministic and
relies on identifying the bounce pattern's movement direction to invert it.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import common
import random

def generate():
    width = random.randint(2, 30)
    height = random.randint(2, 30)
    b = random.randint(0, 9)
    u = random.randint(0, 9)
    while u == b:
        u = random.randint(0, 9)
    ingrid, _ = common.bounce(width, height, b, 0, u)
    output_grid = common.flip_horiz(ingrid)
    return {"input": ingrid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import common

def p(input_grid):
    return common.flip_horiz(input_grid)
