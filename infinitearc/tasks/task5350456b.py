# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-10
# ---------------------------------------------------------------

"""
Task ID: 5350456b
Difficulty: insane

=== Tags ===
- Minimal description length

=== Description ===
Replace each cell with the count of its value in its row.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random

def generate():
    while True:
        width = random.randint(1, 30)
        height = random.randint(1, 30)
        input_grid = [[random.randint(0, 9) for _ in range(width)] for _ in range(height)]
        output_grid = []
        for row in input_grid:
            count_map = {}
            for val in row:
                count_map[val] = count_map.get(val, 0) + 1
            output_row = [count_map[val] for val in row]
            output_grid.append(output_row)
        if input_grid != output_grid:
            return {"input": input_grid, "output": output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

import random

def p(input_grid):
    output_grid = []
    for row in input_grid:
        count_map = {}
        for val in row:
            count_map[val] = count_map.get(val, 0) + 1
        output_row = [count_map[val] for val in row]
        output_grid.append(output_row)
    return output_grid
