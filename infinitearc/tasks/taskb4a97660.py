# ---------------------------------------------------------------
# This file was automatically generated. DO NOT EDIT MANUALLY.
# 
# Generated by: conor-99/InfiniteARC/prepare.py
# Date: 2025-11-11
# ---------------------------------------------------------------

"""
Task ID: b4a97660
Difficulty: hard

=== Tags ===
- Out of boundary

=== Description ===
The task involves transforming an input grid into an output grid by shifting
each row to the right by its row index (0-based), with elements wrapping around
to the opposite side when moving beyond the grid boundaries. For a grid with
dimensions HÃ—W, row i is shifted right by i positions, such that each element at
column c in row i moves to column (c + i) mod W in the output grid. Elements
that would move past the right edge wrap to the leftmost columns, maintaining
the grid's original dimensions. This transformation requires recognizing that
the shift amount varies per row and handling boundary wrap-around, making it
challenging to deduce without examining multiple examples. The output grid is
always distinct from the input due to the row-specific shifts.
"""


# ---------------------------------------------------------------
# Generator Code
# ---------------------------------------------------------------

import random
from common import grid, randint

def generate():
    while True:
        H = random.randint(2, 30)
        W = random.randint(2, 30)
        input_grid = grid(W, H, 0)
        for r in range(H):
            for c in range(W):
                input_grid[r][c] = random.randint(0, 9)
        output_grid = []
        for i in range(H):
            shift = i % W
            shifted_row = input_grid[i][-shift:] + input_grid[i][:-shift]
            output_grid.append(shifted_row)
        if input_grid != output_grid:
            return {'input': input_grid, 'output': output_grid}


# ---------------------------------------------------------------
# Solver Code
# ---------------------------------------------------------------

def p(input_grid):
    H = len(input_grid)
    W = len(input_grid[0])
    output = []
    for i in range(H):
        shift = i % W
        shifted_row = input_grid[i][-shift:] + input_grid[i][:-shift]
        output.append(shifted_row)
    return output
